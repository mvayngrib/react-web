





'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();

var _react=require('react');var _react2=_interopRequireDefault(_react);
var _NativeMethodsMixin=require('../Utilties/NativeMethodsMixin.web');
var _ReactStyleSheet=require('../StyleSheet/StyleSheet.web');var _ReactStyleSheet2=_interopRequireDefault(_ReactStyleSheet);
var _reactMixin=require('react-mixin');var _reactMixin2=_interopRequireDefault(_reactMixin);
var _autobindDecorator=require('autobind-decorator');var _autobindDecorator2=_interopRequireDefault(_autobindDecorator);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var

Switch=function(_Component){_inherits(Switch,_Component);function Switch(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Switch);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Switch.__proto__||Object.getPrototypeOf(Switch)).call.apply(_ref,[this].concat(args))),_this),_this.
















state={
value:_this.props.value,
disabled:_this.props.disabled},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Switch,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(


nextProps){
this.setState({
value:nextProps.value,
disabled:nextProps.disabled});

}},{key:'getStyles',value:function getStyles()

{
return _ReactStyleSheet2.default.create({
span:{
position:'relative',
display:'inline-block',
margin:2,
height:30,
width:50,
cursor:'default',
verticalAlign:'middle',
borderRadius:20,
borderColor:'#dfdfdf',
borderWidth:1,
borderStyle:'solid',
WebkitUserSelect:'none',
WebkitBoxSizing:'content-box',
WebkitBackfaceVisibility:'hidden'},

checkedSpan:{
borderColor:this.props.onTintColor,
backgroundColor:this.props.onTintColor,
boxShadow:this.props.onTintColor+' 0 0 0 16px inset',
WebkitTransition:'border 0.2s, box-shadow 0.2s, background-color 1s'},

uncheckedSpan:{
borderColor:'#dfdfdf',
backgroundColor:this.props.tintColor,
boxShadow:'#dfdfdf 0 0 0 0 inset',
WebkitTransition:'border 0.2s, box-shadow 0.2s'},

disabledSpan:{
opacity:0.5,
cursor:'not-allowed',
boxShadow:'none'},

small:{
position:'absolute',
top:0,
width:30,
height:30,
backgroundColor:this.props.thumbTintColor,
borderRadius:'100%',
boxShadow:'0 1px 3px rgba(0,0,0,0.4)',
WebkitTransition:'-webkit-transform 0.2s ease-in'},

checkedSmall:{
WebkitTransform:'translateX(20px)'},

uncheckedSmall:{
WebkitTransform:'translateX(0)'}});


}},{key:'handleClick',value:function handleClick(

e){
if(this.state.disabled){
return null;
}

var newVal=!this.state.value;
this.props.onValueChange&&this.props.onValueChange.call(this,newVal);
this.setState({
value:newVal});


var oldValue=this.props.value;
setTimeout(function(){
if(this.props.value==oldValue){
this.setState({
value:this.props.value});

}
}.bind(this),200);
}},{key:'render',value:function render()

{
var styles=this.getStyles();
var spancss=this.state.value?_extends({},styles.span,styles.checkedSpan):_extends({},styles.span,styles.uncheckedSpan);
var smallcss=this.state.value?_extends({},styles.small,styles.checkedSmall):_extends({},styles.small,styles.uncheckedSmall);
spancss=this.state.disabled?_extends({},spancss,styles.disabledSpan):spancss;

return(
_react2.default.createElement('span',{onClick:this.handleClick,style:spancss},
_react2.default.createElement('small',{style:smallcss})));


}}]);return Switch;}(_react.Component);Switch.propTypes={value:_react.PropTypes.bool,disabled:_react.PropTypes.bool,onValueChange:_react.PropTypes.func,onTintColor:_react.PropTypes.string,thumbTintColor:_react.PropTypes.string,tintColor:_react.PropTypes.string};Switch.defaultProps={onTintColor:'#00e158',thumbTintColor:'#fff',tintColor:'#fff'};

;

_reactMixin2.default.onClass(Switch,_NativeMethodsMixin.Mixin);
(0,_autobindDecorator2.default)(Switch);

Switch.isReactNativeComponent=true;exports.default=

Switch;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN3aXRjaC53ZWIuanMiXSwibmFtZXMiOlsiU3dpdGNoIiwic3RhdGUiLCJ2YWx1ZSIsInByb3BzIiwiZGlzYWJsZWQiLCJuZXh0UHJvcHMiLCJzZXRTdGF0ZSIsImNyZWF0ZSIsInNwYW4iLCJwb3NpdGlvbiIsImRpc3BsYXkiLCJtYXJnaW4iLCJoZWlnaHQiLCJ3aWR0aCIsImN1cnNvciIsInZlcnRpY2FsQWxpZ24iLCJib3JkZXJSYWRpdXMiLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwiYm9yZGVyU3R5bGUiLCJXZWJraXRVc2VyU2VsZWN0IiwiV2Via2l0Qm94U2l6aW5nIiwiV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5IiwiY2hlY2tlZFNwYW4iLCJvblRpbnRDb2xvciIsImJhY2tncm91bmRDb2xvciIsImJveFNoYWRvdyIsIldlYmtpdFRyYW5zaXRpb24iLCJ1bmNoZWNrZWRTcGFuIiwidGludENvbG9yIiwiZGlzYWJsZWRTcGFuIiwib3BhY2l0eSIsInNtYWxsIiwidG9wIiwidGh1bWJUaW50Q29sb3IiLCJjaGVja2VkU21hbGwiLCJXZWJraXRUcmFuc2Zvcm0iLCJ1bmNoZWNrZWRTbWFsbCIsImUiLCJuZXdWYWwiLCJvblZhbHVlQ2hhbmdlIiwiY2FsbCIsIm9sZFZhbHVlIiwic2V0VGltZW91dCIsImJpbmQiLCJzdHlsZXMiLCJnZXRTdHlsZXMiLCJzcGFuY3NzIiwic21hbGxjc3MiLCJoYW5kbGVDbGljayIsInByb3BUeXBlcyIsImJvb2wiLCJmdW5jIiwic3RyaW5nIiwiZGVmYXVsdFByb3BzIiwib25DbGFzcyIsImlzUmVhY3ROYXRpdmVDb21wb25lbnQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQU1BLGE7O0FBRUEsNEI7QUFDQTtBQUNBLDZEO0FBQ0EsdUM7QUFDQSxxRDs7QUFFTUEsTTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkpDLEssQ0FBUTtBQUNOQyxNQUFPLE1BQUtDLEtBQUwsQ0FBV0QsS0FEWjtBQUVORSxTQUFVLE1BQUtELEtB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O0FBQ0FVLFFBQVUsS0FBSzlDLEtBQUwsQ0FBV0csUUFBWCxhQUEwQjJDLE9BQTFCLENBQXNDRixPQUFPZixZQUE3QyxFQUE2RGlCLE9BQXZFOztBQUVBO0FBQ0Usc0NBQU0sUUFBUyxLQUFLRSxXQUFwQixDQUFpQyxNQUFPRixPQUF4QztBQUNFLHVDQUFPLE1BQU9DLFFBQWQsRUFERixDQURGOzs7QUFLRCxDLHNDQW5IR2hELE0sQ0FFR2tELFMsQ0FBWSxDQUNqQmhELE1BQU8saUJBQVVpRCxJQURBLENBRWpCL0MsU0FBVSxpQkFBVStDLElBRkgsQ0FHakJYLGNBQWUsaUJBQVVZLElBSFIsQ0FJakI1QixZQUFhLGlCQUFVNkIsTUFKTixDQUtqQm5CLGVBQWdCLGlCQUFVbUIsTUFMVCxDQU1qQnhCLFVBQVcsaUJBQVV3QixNQU5KLEMsQ0FGZnJELE0sQ0FXR3NELFksQ0FBZSxDQUNwQjlCLFlBQWEsU0FETyxDQUVwQlUsZUFBZ0IsTUFGSSxDQUdwQkwsVUFBVyxNQUhTLEM7O0FBMEd2Qjs7QUFFRCxxQkFBTTBCLE9BQU4sQ0FBY3ZELE1BQWQ7QUFDQSxnQ0FBU0EsTUFBVDs7QUFFQUEsT0FBT3dELHNCQUFQLENBQWdDLElBQWhDLEM7O0FBRWV4RCxNIiwiZmlsZSI6IlN3aXRjaC53ZWIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBBbGliYWJhIEdyb3VwIEhvbGRpbmcgTGltaXRlZC5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0U3dpdGNoXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTWl4aW4gYXMgTmF0aXZlTWV0aG9kc01peGluIH0gZnJvbSAnTmF0aXZlTWV0aG9kc01peGluJztcbmltcG9ydCBTdHlsZVNoZWV0IGZyb20gJ1JlYWN0U3R5bGVTaGVldCc7XG5pbXBvcnQgbWl4aW4gZnJvbSAncmVhY3QtbWl4aW4nO1xuaW1wb3J0IGF1dG9iaW5kIGZyb20gJ2F1dG9iaW5kLWRlY29yYXRvcic7XG5cbmNsYXNzIFN3aXRjaCBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICB2YWx1ZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIG9uVmFsdWVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uVGludENvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHRodW1iVGludENvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHRpbnRDb2xvcjogUHJvcFR5cGVzLnN0cmluZ1xuICB9XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBvblRpbnRDb2xvcjogJyMwMGUxNTgnLFxuICAgIHRodW1iVGludENvbG9yOiAnI2ZmZicsXG4gICAgdGludENvbG9yOiAnI2ZmZidcbiAgfVxuXG4gIHN0YXRlID0ge1xuICAgIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLFxuICAgIGRpc2FibGVkOiB0aGlzLnByb3BzLmRpc2FibGVkXG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZSxcbiAgICAgIGRpc2FibGVkOiBuZXh0UHJvcHMuZGlzYWJsZWRcbiAgICB9KTtcbiAgfVxuXG4gIGdldFN0eWxlcygpIHtcbiAgICByZXR1cm4gU3R5bGVTaGVldC5jcmVhdGUoe1xuICAgICAgc3Bhbjoge1xuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgIG1hcmdpbjogMixcbiAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgICAgd2lkdGg6IDUwLFxuICAgICAgICBjdXJzb3I6ICdkZWZhdWx0JywgLy8gcG9pbnRlciB3aWxsIGNhdXNlIGEgZ3JleSBiYWNrZ3JvdW5kIGNvbG9yIG9uIGNocm9tZVxuICAgICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAyMCxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICcjZGZkZmRmJyxcbiAgICAgICAgYm9yZGVyV2lkdGg6IDEsXG4gICAgICAgIGJvcmRlclN0eWxlOiAnc29saWQnLFxuICAgICAgICBXZWJraXRVc2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICAgIFdlYmtpdEJveFNpemluZzogJ2NvbnRlbnQtYm94JyxcbiAgICAgICAgV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJ1xuICAgICAgfSxcbiAgICAgIGNoZWNrZWRTcGFuOiB7XG4gICAgICAgIGJvcmRlckNvbG9yOiB0aGlzLnByb3BzLm9uVGludENvbG9yLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcHMub25UaW50Q29sb3IsXG4gICAgICAgIGJveFNoYWRvdzogdGhpcy5wcm9wcy5vblRpbnRDb2xvciArICcgMCAwIDAgMTZweCBpbnNldCcsXG4gICAgICAgIFdlYmtpdFRyYW5zaXRpb246ICdib3JkZXIgMC4ycywgYm94LXNoYWRvdyAwLjJzLCBiYWNrZ3JvdW5kLWNvbG9yIDFzJ1xuICAgICAgfSxcbiAgICAgIHVuY2hlY2tlZFNwYW46IHtcbiAgICAgICAgYm9yZGVyQ29sb3I6ICcjZGZkZmRmJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLnRpbnRDb2xvcixcbiAgICAgICAgYm94U2hhZG93OiAnI2RmZGZkZiAwIDAgMCAwIGluc2V0JyxcbiAgICAgICAgV2Via2l0VHJhbnNpdGlvbjogJ2JvcmRlciAwLjJzLCBib3gtc2hhZG93IDAuMnMnXG4gICAgICB9LFxuICAgICAgZGlzYWJsZWRTcGFuOiB7XG4gICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgY3Vyc29yOiAnbm90LWFsbG93ZWQnLFxuICAgICAgICBib3hTaGFkb3c6ICdub25lJ1xuICAgICAgfSxcbiAgICAgIHNtYWxsOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHdpZHRoOiAzMCxcbiAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLnRodW1iVGludENvbG9yLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICcxMDAlJyxcbiAgICAgICAgYm94U2hhZG93OiAnMCAxcHggM3B4IHJnYmEoMCwwLDAsMC40KScsXG4gICAgICAgIFdlYmtpdFRyYW5zaXRpb246ICctd2Via2l0LXRyYW5zZm9ybSAwLjJzIGVhc2UtaW4nXG4gICAgICB9LFxuICAgICAgY2hlY2tlZFNtYWxsOiB7XG4gICAgICAgIFdlYmtpdFRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoMjBweCknXG4gICAgICB9LFxuICAgICAgdW5jaGVja2VkU21hbGw6IHtcbiAgICAgICAgV2Via2l0VHJhbnNmb3JtOiAndHJhbnNsYXRlWCgwKSdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrKGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG5ld1ZhbCA9ICF0aGlzLnN0YXRlLnZhbHVlO1xuICAgIHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZSAmJiB0aGlzLnByb3BzLm9uVmFsdWVDaGFuZ2UuY2FsbCh0aGlzLCBuZXdWYWwpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdmFsdWU6IG5ld1ZhbFxuICAgIH0pO1xuXG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMudmFsdWUgPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdmFsdWU6IHRoaXMucHJvcHMudmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpLCAyMDApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciBzdHlsZXMgPSB0aGlzLmdldFN0eWxlcygpO1xuICAgIHZhciBzcGFuY3NzID0gdGhpcy5zdGF0ZS52YWx1ZSA/IHsuLi5zdHlsZXMuc3BhbiwgLi4uc3R5bGVzLmNoZWNrZWRTcGFufSA6IHsuLi5zdHlsZXMuc3BhbiwgLi4uc3R5bGVzLnVuY2hlY2tlZFNwYW59O1xuICAgIHZhciBzbWFsbGNzcyA9IHRoaXMuc3RhdGUudmFsdWUgPyB7Li4uc3R5bGVzLnNtYWxsLCAuLi5zdHlsZXMuY2hlY2tlZFNtYWxsfSA6IHsuLi5zdHlsZXMuc21hbGwsIC4uLnN0eWxlcy51bmNoZWNrZWRTbWFsbH07XG4gICAgc3BhbmNzcyA9IHRoaXMuc3RhdGUuZGlzYWJsZWQgPyB7Li4uc3BhbmNzcywgLi4uc3R5bGVzLmRpc2FibGVkU3Bhbn0gOiBzcGFuY3NzO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9IHN0eWxlPXtzcGFuY3NzfT5cbiAgICAgICAgPHNtYWxsIHN0eWxlPXtzbWFsbGNzc30vPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cblxufTtcblxubWl4aW4ub25DbGFzcyhTd2l0Y2gsIE5hdGl2ZU1ldGhvZHNNaXhpbik7XG5hdXRvYmluZChTd2l0Y2gpO1xuXG5Td2l0Y2guaXNSZWFjdE5hdGl2ZUNvbXBvbmVudCA9IHRydWU7XG5cbmV4cG9ydCBkZWZhdWx0IFN3aXRjaDtcbiJdfQ==