





'use strict';

var _react=require('react');var _react2=_interopRequireDefault(_react);
var _reactDom=require('react-dom');var _reactDom2=_interopRequireDefault(_reactDom);
var _ReactGetLayout=require('./getLayout.web');var _ReactGetLayout2=_interopRequireDefault(_ReactGetLayout);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}

var LayoutMixin={
getInitialState:function getInitialState(){
return{layout:{}};
},

componentDidMount:function componentDidMount(){
this.layoutHandle();
},

componentDidUpdate:function componentDidUpdate(){
this.layoutHandle();
},

layoutHandle:function layoutHandle(){
if(this.props.onLayout){

var layout=(0,_ReactGetLayout2.default)(_reactDom2.default.findDOMNode(this));
var stateLayout=this.state.layout;
if(stateLayout.x!==layout.x||stateLayout.y!==layout.y||stateLayout.width!==layout.width||stateLayout.height!==layout.height){
this.props.onLayout({nativeEvent:{layout:layout}});
this.setState({layout:layout});
}
}
}};


module.exports={
Mixin:LayoutMixin};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxheW91dE1peGluLmpzIl0sIm5hbWVzIjpbIkxheW91dE1peGluIiwiZ2V0SW5pdGlhbFN0YXRlIiwibGF5b3V0IiwiY29tcG9uZW50RGlkTW91bnQiLCJsYXlvdXRIYW5kbGUiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcm9wcyIsIm9uTGF5b3V0IiwiZmluZERPTU5vZGUiLCJzdGF0ZUxheW91dCIsInN0YXRlIiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsIm5hdGl2ZUV2ZW50Iiwic2V0U3RhdGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiTWl4aW4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQU1BOztBQUVBLDRCO0FBQ0EsbUM7QUFDQSwrQzs7QUFFQSxHQUFJQSxhQUFjO0FBQ2hCQyxnQkFBaUIsMEJBQVc7QUFDMUIsTUFBTyxDQUFDQyxPQUFRLEVBQVQsQ0FBUDtBQUNELENBSGU7O0FBS2hCQyxrQkFBbUIsNEJBQVc7QUFDNUIsS0FBS0MsWUFBTDtBQUNELENBUGU7O0FBU2hCQyxtQkFBb0IsNkJBQVc7QUFDN0IsS0FBS0QsWUFBTDtBQUNELENBWGU7O0FBYWhCQSxhQUFjLHVCQUFXO0FBQ3ZCLEdBQUksS0FBS0UsS0FBTCxDQUFXQyxRQUFmLENBQXlCOztBQUV2QixHQUFJTCxRQUFTLDZCQUFVLG1CQUFTTSxXQUFULENBQXFCLElBQXJCLENBQVYsQ0FBYjtBQUNBLEdBQUlDLGFBQWMsS0FBS0MsS0FBTCxDQUFXUixNQUE3QjtBQUNBLEdBQUlPLFlBQVlFLENBQVosR0FBa0JULE9BQU9TLENBQXpCLEVBQThCRixZQUFZRyxDQUFaLEdBQWtCVixPQUFPVSxDQUF2RCxFQUE0REgsWUFBWUksS0FBWixHQUFzQlgsT0FBT1csS0FBekYsRUFBa0dKLFlBQVlLLE1BQVosR0FBdUJaLE9BQU9ZLE1BQXBJLENBQTRJO0FBQzFJLEtBQUtSLEtBQUwsQ0FBV0MsUUFBWCxDQUFvQixDQUFDUSxZQUFhLENBQUNiLGFBQUQsQ0FBZCxDQUFwQjtBQUNBLEtBQUtjLFFBQUwsQ0FBYyxDQUFDZCxhQUFELENBQWQ7QUFDRDtBQUNGO0FBQ0YsQ0F2QmUsQ0FBbEI7OztBQTBCQWUsT0FBT0MsT0FBUCxDQUFpQjtBQUNmQyxNQUFPbkIsV0FEUSxDQUFqQiIsImZpbGUiOiJMYXlvdXRNaXhpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RMYXlvdXRNaXhpblxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBnZXRMYXlvdXQgZnJvbSAnUmVhY3RHZXRMYXlvdXQnO1xuXG52YXIgTGF5b3V0TWl4aW4gPSB7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtsYXlvdXQ6IHt9fTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sYXlvdXRIYW5kbGUoKTtcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubGF5b3V0SGFuZGxlKCk7XG4gIH0sXG5cbiAgbGF5b3V0SGFuZGxlOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkxheW91dCkge1xuXG4gICAgICB2YXIgbGF5b3V0ID0gZ2V0TGF5b3V0KFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpKTtcbiAgICAgIHZhciBzdGF0ZUxheW91dCA9IHRoaXMuc3RhdGUubGF5b3V0O1xuICAgICAgaWYgKHN0YXRlTGF5b3V0LnggIT09IGxheW91dC54IHx8IHN0YXRlTGF5b3V0LnkgIT09IGxheW91dC55IHx8IHN0YXRlTGF5b3V0LndpZHRoICE9PSBsYXlvdXQud2lkdGggfHwgc3RhdGVMYXlvdXQuaGVpZ2h0ICE9PSBsYXlvdXQuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25MYXlvdXQoe25hdGl2ZUV2ZW50OiB7bGF5b3V0fX0pO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtsYXlvdXR9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBNaXhpbjogTGF5b3V0TWl4aW5cbn07XG4iXX0=