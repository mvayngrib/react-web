














var _keyOf=require('fbjs/lib/keyOf');var _keyOf2=_interopRequireDefault(_keyOf);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}

var X_DIM=(0,_keyOf2.default)({x:null});
var Y_DIM=(0,_keyOf2.default)({y:null});
var Z_DIM=(0,_keyOf2.default)({z:null});
var W_DIM=(0,_keyOf2.default)({w:null});

var TRANSFORM_ROTATE_NAME=(0,_keyOf2.default)({transformRotateRadians:null});

var ShouldAllocateReusableOperationVars={
transformRotateRadians:true,
transformScale:true,
transformTranslate:true};


var InitialOperationField={
transformRotateRadians:[0,0,0,1],
transformTranslate:[0,0,0],
transformScale:[1,1,1]};



























































var ARGUMENT_NAMES_RE=/([^\s,]+)/g;



















var inline=function inline(func,replaceWithArgs){
var fnStr=func.toString();
var parameterNames=fnStr.slice(fnStr.indexOf('(')+1,fnStr.indexOf(')')).
match(ARGUMENT_NAMES_RE)||
[];
var replaceRegexStr=parameterNames.map(function(paramName){
return'\\b'+paramName+'\\b';
}).join('|');
var replaceRegex=new RegExp(replaceRegexStr,'g');
var fnBody=fnStr.substring(fnStr.indexOf('{')+1,fnStr.lastIndexOf('}'));
var newFnBody=fnBody.replace(replaceRegex,function(parameterName){
var indexInParameterNames=parameterNames.indexOf(parameterName);
var replacementName=replaceWithArgs[indexInParameterNames];
return replacementName;
});
return newFnBody.split('\n');
};





var MatrixOps={
unroll:function unroll(matVar,m0,m1,m2,m3,m4,m5,m6,m7,m8,m9,m10,m11,m12,m13,m14,m15){
m0=matVar[0];
m1=matVar[1];
m2=matVar[2];
m3=matVar[3];
m4=matVar[4];
m5=matVar[5];
m6=matVar[6];
m7=matVar[7];
m8=matVar[8];
m9=matVar[9];
m10=matVar[10];
m11=matVar[11];
m12=matVar[12];
m13=matVar[13];
m14=matVar[14];
m15=matVar[15];
},

matrixDiffers:function matrixDiffers(retVar,matVar,m0,m1,m2,m3,m4,m5,m6,m7,m8,m9,m10,m11,m12,m13,m14,m15){
retVar=retVar||
m0!==matVar[0]||
m1!==matVar[1]||
m2!==matVar[2]||
m3!==matVar[3]||
m4!==matVar[4]||
m5!==matVar[5]||
m6!==matVar[6]||
m7!==matVar[7]||
m8!==matVar[8]||
m9!==matVar[9]||
m10!==matVar[10]||
m11!==matVar[11]||
m12!==matVar[12]||
m13!==matVar[13]||
m14!==matVar[14]||
m15!==matVar[15];
},

transformScale:function transformScale(matVar,opVar){

var x=opVar[0];
var y=opVar[1];
var z=opVar[2];
matVar[0]=matVar[0]*x;
matVar[1]=matVar[1]*x;
matVar[2]=matVar[2]*x;
matVar[3]=matVar[3]*x;
matVar[4]=matVar[4]*y;
matVar[5]=matVar[5]*y;
matVar[6]=matVar[6]*y;
matVar[7]=matVar[7]*y;
matVar[8]=matVar[8]*z;
matVar[9]=matVar[9]*z;
matVar[10]=matVar[10]*z;
matVar[11]=matVar[11]*z;
matVar[12]=matVar[12];
matVar[13]=matVar[13];
matVar[14]=matVar[14];
matVar[15]=matVar[15];
},





transformTranslate:function transformTranslate(matVar,opVar){

var x=opVar[0];
var y=opVar[1];
var z=opVar[2];
matVar[12]=matVar[0]*x+matVar[4]*y+matVar[8]*z+matVar[12];
matVar[13]=matVar[1]*x+matVar[5]*y+matVar[9]*z+matVar[13];
matVar[14]=matVar[2]*x+matVar[6]*y+matVar[10]*z+matVar[14];
matVar[15]=matVar[3]*x+matVar[7]*y+matVar[11]*z+matVar[15];
},





transformRotateRadians:function transformRotateRadians(matVar,q){

var xQuat=q[0],yQuat=q[1],zQuat=q[2],wQuat=q[3];
var x2Quat=xQuat+xQuat;
var y2Quat=yQuat+yQuat;
var z2Quat=zQuat+zQuat;
var xxQuat=xQuat*x2Quat;
var xyQuat=xQuat*y2Quat;
var xzQuat=xQuat*z2Quat;
var yyQuat=yQuat*y2Quat;
var yzQuat=yQuat*z2Quat;
var zzQuat=zQuat*z2Quat;
var wxQuat=wQuat*x2Quat;
var wyQuat=wQuat*y2Quat;
var wzQuat=wQuat*z2Quat;

var quatMat0=1-(yyQuat+zzQuat);
var quatMat1=xyQuat+wzQuat;
var quatMat2=xzQuat-wyQuat;
var quatMat4=xyQuat-wzQuat;
var quatMat5=1-(xxQuat+zzQuat);
var quatMat6=yzQuat+wxQuat;
var quatMat8=xzQuat+wyQuat;
var quatMat9=yzQuat-wxQuat;
var quatMat10=1-(xxQuat+yyQuat);



var a00=matVar[0];
var a01=matVar[1];
var a02=matVar[2];
var a03=matVar[3];
var a10=matVar[4];
var a11=matVar[5];
var a12=matVar[6];
var a13=matVar[7];
var a20=matVar[8];
var a21=matVar[9];
var a22=matVar[10];
var a23=matVar[11];

var b0=quatMat0,b1=quatMat1,b2=quatMat2;
matVar[0]=b0*a00+b1*a10+b2*a20;
matVar[1]=b0*a01+b1*a11+b2*a21;
matVar[2]=b0*a02+b1*a12+b2*a22;
matVar[3]=b0*a03+b1*a13+b2*a23;
b0=quatMat4;b1=quatMat5;b2=quatMat6;
matVar[4]=b0*a00+b1*a10+b2*a20;
matVar[5]=b0*a01+b1*a11+b2*a21;
matVar[6]=b0*a02+b1*a12+b2*a22;
matVar[7]=b0*a03+b1*a13+b2*a23;
b0=quatMat8;b1=quatMat9;b2=quatMat10;
matVar[8]=b0*a00+b1*a10+b2*a20;
matVar[9]=b0*a01+b1*a11+b2*a21;
matVar[10]=b0*a02+b1*a12+b2*a22;
matVar[11]=b0*a03+b1*a13+b2*a23;
}};




var MatrixOpsInitial={
transformScale:function transformScale(matVar,opVar){

matVar[0]=opVar[0];
matVar[1]=0;
matVar[2]=0;
matVar[3]=0;
matVar[4]=0;
matVar[5]=opVar[1];
matVar[6]=0;
matVar[7]=0;
matVar[8]=0;
matVar[9]=0;
matVar[10]=opVar[2];
matVar[11]=0;
matVar[12]=0;
matVar[13]=0;
matVar[14]=0;
matVar[15]=1;
},

transformTranslate:function transformTranslate(matVar,opVar){

matVar[0]=1;
matVar[1]=0;
matVar[2]=0;
matVar[3]=0;
matVar[4]=0;
matVar[5]=1;
matVar[6]=0;
matVar[7]=0;
matVar[8]=0;
matVar[9]=0;
matVar[10]=1;
matVar[11]=0;
matVar[12]=opVar[0];
matVar[13]=opVar[1];
matVar[14]=opVar[2];
matVar[15]=1;
},






transformRotateRadians:function transformRotateRadians(matVar,q){


var xQuat=q[0],yQuat=q[1],zQuat=q[2],wQuat=q[3];
var x2Quat=xQuat+xQuat;
var y2Quat=yQuat+yQuat;
var z2Quat=zQuat+zQuat;
var xxQuat=xQuat*x2Quat;
var xyQuat=xQuat*y2Quat;
var xzQuat=xQuat*z2Quat;
var yyQuat=yQuat*y2Quat;
var yzQuat=yQuat*z2Quat;
var zzQuat=zQuat*z2Quat;
var wxQuat=wQuat*x2Quat;
var wyQuat=wQuat*y2Quat;
var wzQuat=wQuat*z2Quat;

var quatMat0=1-(yyQuat+zzQuat);
var quatMat1=xyQuat+wzQuat;
var quatMat2=xzQuat-wyQuat;
var quatMat4=xyQuat-wzQuat;
var quatMat5=1-(xxQuat+zzQuat);
var quatMat6=yzQuat+wxQuat;
var quatMat8=xzQuat+wyQuat;
var quatMat9=yzQuat-wxQuat;
var quatMat10=1-(xxQuat+yyQuat);



var b0=quatMat0,b1=quatMat1,b2=quatMat2;
matVar[0]=b0;
matVar[1]=b1;
matVar[2]=b2;
matVar[3]=0;
b0=quatMat4;b1=quatMat5;b2=quatMat6;
matVar[4]=b0;
matVar[5]=b1;
matVar[6]=b2;
matVar[7]=0;
b0=quatMat8;b1=quatMat9;b2=quatMat10;
matVar[8]=b0;
matVar[9]=b1;
matVar[10]=b2;
matVar[11]=0;
matVar[12]=0;
matVar[13]=0;
matVar[14]=0;
matVar[15]=1;
}};



var setNextValAndDetectChange=function setNextValAndDetectChange(name,tmpVarName){
return(
'  if (!didChange) {\n'+
'    var prevVal = result.'+name+';\n'+
'    result.'+name+' = '+tmpVarName+';\n'+
'    didChange = didChange  || ('+tmpVarName+' !== prevVal);\n'+
'  } else {\n'+
'    result.'+name+' = '+tmpVarName+';\n'+
'  }\n');

};

var computeNextValLinear=function computeNextValLinear(anim,from,to,tmpVarName){
var hasRoundRatio='round'in anim;
var roundRatio=anim.round;
var fn='  ratio = (value - '+anim.min+') / '+(anim.max-anim.min)+';\n';
if(!anim.extrapolate){
fn+='  ratio = ratio > 1 ? 1 : (ratio < 0 ? 0 : ratio);\n';
}

var roundOpen=hasRoundRatio?'Math.round('+roundRatio+' * ':'';
var roundClose=hasRoundRatio?') / '+roundRatio:'';
fn+=
'  '+tmpVarName+' = '+
roundOpen+
'('+from+' * (1 - ratio) + '+to+' * ratio)'+
roundClose+';\n';
return fn;
};

var computeNextValLinearScalar=function computeNextValLinearScalar(anim){
return computeNextValLinear(anim,anim.from,anim.to,'nextScalarVal');
};

var computeNextValConstant=function computeNextValConstant(anim){
var constantExpression=JSON.stringify(anim.value);
return'  nextScalarVal = '+constantExpression+';\n';
};

var computeNextValStep=function computeNextValStep(anim){
return(
'  nextScalarVal = value >= '+(
anim.threshold+' ? '+anim.to+' : '+anim.from)+';\n');

};

var computeNextValIdentity=function computeNextValIdentity(anim){
return'  nextScalarVal = value;\n';
};

var operationVar=function operationVar(name){
return name+'ReuseOp';
};

var createReusableOperationVars=function createReusableOperationVars(anims){
var ret='';
for(var name in anims){
if(ShouldAllocateReusableOperationVars[name]){
ret+='var '+operationVar(name)+' = [];\n';
}
}
return ret;
};

var newlines=function newlines(statements){
return'\n'+statements.join('\n')+'\n';
};







var computeNextMatrixOperationField=function computeNextMatrixOperationField(anim,name,dimension,index){
var fieldAccess=operationVar(name)+'['+index+']';
if(anim.from[dimension]!==undefined&&anim.to[dimension]!==undefined){
return'  '+anim.from[dimension]!==anim.to[dimension]?
computeNextValLinear(anim,anim.from[dimension],anim.to[dimension],fieldAccess):
fieldAccess+' = '+anim.from[dimension]+';';
}else{
return'  '+fieldAccess+' = '+InitialOperationField[name][index]+';';
}
};

var unrolledVars=[];
for(var varIndex=0;varIndex<16;varIndex++){
unrolledVars.push('m'+varIndex);
}
var setNextMatrixAndDetectChange=function setNextMatrixAndDetectChange(orderedMatrixOperations){
var fn=[
'  var transformMatrix = result.transformMatrix !== undefined ? '+
'result.transformMatrix : (result.transformMatrix = []);'];

fn.push.apply(
fn,
inline(MatrixOps.unroll,['transformMatrix'].concat(unrolledVars)));

for(var i=0;i<orderedMatrixOperations.length;i++){
var opName=orderedMatrixOperations[i];
if(i===0){
fn.push.apply(
fn,
inline(MatrixOpsInitial[opName],['transformMatrix',operationVar(opName)]));

}else{
fn.push.apply(
fn,
inline(MatrixOps[opName],['transformMatrix',operationVar(opName)]));

}
}
fn.push.apply(
fn,
inline(MatrixOps.matrixDiffers,['didChange','transformMatrix'].concat(unrolledVars)));

return fn;
};

var InterpolateMatrix={
transformTranslate:true,
transformRotateRadians:true,
transformScale:true};


var createFunctionString=function createFunctionString(anims){


var orderedMatrixOperations=[];



var fn='return (function() {\n';
fn+=createReusableOperationVars(anims);
fn+='return function(result, value) {\n';
fn+='  var didChange = false;\n';
fn+='  var nextScalarVal;\n';
fn+='  var ratio;\n';

for(var name in anims){
var anim=anims[name];
if(anim.type==='linear'){
if(InterpolateMatrix[name]){
orderedMatrixOperations.push(name);
var setOperations=[
computeNextMatrixOperationField(anim,name,X_DIM,0),
computeNextMatrixOperationField(anim,name,Y_DIM,1),
computeNextMatrixOperationField(anim,name,Z_DIM,2)];

if(name===TRANSFORM_ROTATE_NAME){
setOperations.push(computeNextMatrixOperationField(anim,name,W_DIM,3));
}
fn+=newlines(setOperations);
}else{
fn+=computeNextValLinearScalar(anim,'nextScalarVal');
fn+=setNextValAndDetectChange(name,'nextScalarVal');
}
}else if(anim.type==='constant'){
fn+=computeNextValConstant(anim);
fn+=setNextValAndDetectChange(name,'nextScalarVal');
}else if(anim.type==='step'){
fn+=computeNextValStep(anim);
fn+=setNextValAndDetectChange(name,'nextScalarVal');
}else if(anim.type==='identity'){
fn+=computeNextValIdentity(anim);
fn+=setNextValAndDetectChange(name,'nextScalarVal');
}
}
if(orderedMatrixOperations.length){
fn+=newlines(setNextMatrixAndDetectChange(orderedMatrixOperations));
}
fn+='  return didChange;\n';
fn+='};\n';
fn+='})()';
return fn;
};






var buildStyleInterpolator=function buildStyleInterpolator(anims){
return Function(createFunctionString(anims))();
};


module.exports=buildStyleInterpolator;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1aWxkU3R5bGVJbnRlcnBvbGF0b3IuanMiXSwibmFtZXMiOlsiWF9ESU0iLCJ4IiwiWV9ESU0iLCJ5IiwiWl9ESU0iLCJ6IiwiV19ESU0iLCJ3IiwiVFJBTlNGT1JNX1JPVEFURV9OQU1FIiwidHJhbnNmb3JtUm90YXRlUmFkaWFucyIsIlNob3VsZEFsbG9jYXRlUmV1c2FibGVPcGVyYXRpb25WYXJzIiwidHJhbnNmb3JtU2NhbGUiLCJ0cmFuc2Zvcm1UcmFuc2xhdGUiLCJJbml0aWFsT3BlcmF0aW9uRmllbGQiLCJBUkdVTUVOVF9OQU1FU19SRSIsImlubGluZSIsImZ1bmMiLCJyZXBsYWNlV2l0aEFyZ3MiLCJmblN0ciIsInRvU3RyaW5nIiwicGFyYW1ldGVyTmFtZXMiLCJzbGljZSIsImluZGV4T2YiLCJtYXRjaCIsInJlcGxhY2VSZWdleFN0ciIsIm1hcCIsInBhcmFtTmFtZSIsImpvaW4iLCJyZXBsYWNlUmVnZXgiLCJSZWdFeHAiLCJmbkJvZHkiLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsIm5ld0ZuQm9keSIsInJlcGxhY2UiLCJwYXJhbWV0ZXJOYW1lIiwiaW5kZXhJblBhcmFtZXRlck5hbWVzIiwicmVwbGFjZW1lbnROYW1lIiwic3BsaXQiLCJNYXRyaXhPcHMiLCJ1bnJvbGwiLCJtYXRWYXIiLCJtMCIsIm0xIiwibTIiLCJtMyIsIm00IiwibTUiLCJtNiIsIm03IiwibTgiLCJtOSIsIm0xMCIsIm0xMSIsIm0xMiIsIm0xMyIsIm0xNCIsIm0xNSIsIm1hdHJpeERpZmZlcnMiLCJyZXRWYXIiLCJvcFZhciIsInEiLCJ4UXVhdCIsInlRdWF0IiwielF1YXQiLCJ3UXVhdCIsIngyUXVhdCIsInkyUXVhdCIsInoyUXVhdCIsInh4UXVhdCIsInh5UXVhdCIsInh6UXVhdCIsInl5UXVhdCIsInl6UXVhdCIsInp6UXVhdCIsInd4UXVhdCIsInd5UXVhdCIsInd6UXVhdCIsInF1YXRNYXQwIiwicXVhdE1hdDEiLCJxdWF0TWF0MiIsInF1YXRNYXQ0IiwicXVhdE1hdDUiLCJxdWF0TWF0NiIsInF1YXRNYXQ4IiwicXVhdE1hdDkiLCJxdWF0TWF0MTAiLCJhMDAiLCJhMDEiLCJhMDIiLCJhMDMiLCJhMTAiLCJhMTEiLCJhMTIiLCJhMTMiLCJhMjAiLCJhMjEiLCJhMjIiLCJhMjMiLCJiMCIsImIxIiwiYjIiLCJNYXRyaXhPcHNJbml0aWFsIiwic2V0TmV4dFZhbEFuZERldGVjdENoYW5nZSIsIm5hbWUiLCJ0bXBWYXJOYW1lIiwiY29tcHV0ZU5leHRWYWxMaW5lYXIiLCJhbmltIiwiZnJvbSIsInRvIiwiaGFzUm91bmRSYXRpbyIsInJvdW5kUmF0aW8iLCJyb3VuZCIsImZuIiwibWluIiwibWF4IiwiZXh0cmFwb2xhdGUiLCJyb3VuZE9wZW4iLCJyb3VuZENsb3NlIiwiY29tcHV0ZU5leHRWYWxMaW5lYXJTY2FsYXIiLCJjb21wdXRlTmV4dFZhbENvbnN0YW50IiwiY29uc3RhbnRFeHByZXNzaW9uIiwiSlNPTiIsInN0cmluZ2lmeSIsInZhbHVlIiwiY29tcHV0ZU5leHRWYWxTdGVwIiwidGhyZXNob2xkIiwiY29tcHV0ZU5leHRWYWxJZGVudGl0eSIsIm9wZXJhdGlvblZhciIsImNyZWF0ZVJldXNhYmxlT3BlcmF0aW9uVmFycyIsImFuaW1zIiwicmV0IiwibmV3bGluZXMiLCJzdGF0ZW1lbnRzIiwiY29tcHV0ZU5leHRNYXRyaXhPcGVyYXRpb25GaWVsZCIsImRpbWVuc2lvbiIsImluZGV4IiwiZmllbGRBY2Nlc3MiLCJ1bmRlZmluZWQiLCJ1bnJvbGxlZFZhcnMiLCJ2YXJJbmRleCIsInB1c2giLCJzZXROZXh0TWF0cml4QW5kRGV0ZWN0Q2hhbmdlIiwib3JkZXJlZE1hdHJpeE9wZXJhdGlvbnMiLCJhcHBseSIsImNvbmNhdCIsImkiLCJsZW5ndGgiLCJvcE5hbWUiLCJJbnRlcnBvbGF0ZU1hdHJpeCIsImNyZWF0ZUZ1bmN0aW9uU3RyaW5nIiwidHlwZSIsInNldE9wZXJhdGlvbnMiLCJidWlsZFN0eWxlSW50ZXJwb2xhdG9yIiwiRnVuY3Rpb24i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WixJQUEzQixDQUFpQyxlQUFqQyxDQUFOO0FBQ0FNLElBQU1WLDBCQUEwQkMsSUFBMUIsQ0FBZ0MsZUFBaEMsQ0FBTjtBQUNEO0FBQ0YsQ0FoQkQsSUFnQk8sSUFBSUcsS0FBSzRDLElBQUwsR0FBYyxVQUFsQixDQUE4QjtBQUNuQ3RDLElBQU1PLHVCQUF1QmIsSUFBdkIsQ0FBTjtBQUNBTSxJQUFNViwwQkFBMEJDLElBQTFCLENBQWdDLGVBQWhDLENBQU47QUFDRCxDQUhNLElBR0EsSUFBSUcsS0FBSzRDLElBQUwsR0FBYyxNQUFsQixDQUEwQjtBQUMvQnRDLElBQU1ZLG1CQUFtQmxCLElBQW5CLENBQU47QUFDQU0sSUFBTVYsMEJBQTBCQyxJQUExQixDQUFnQyxlQUFoQyxDQUFOO0FBQ0QsQ0FITSxJQUdBLElBQUlHLEtBQUs0QyxJQUFMLEdBQWMsVUFBbEIsQ0FBOEI7QUFDbkN0QyxJQUFNYyx1QkFBdUJwQixJQUF2QixDQUFOO0FBQ0FNLElBQU1WLDBCQUEwQkMsSUFBMUIsQ0FBZ0MsZUFBaEMsQ0FBTjtBQUNEO0FBQ0Y7QUFDRCxHQUFJdUMsd0JBQXdCSSxNQUE1QixDQUFvQztBQUNsQ2xDLElBQU1tQixTQUFTVSw2QkFBNkJDLHVCQUE3QixDQUFULENBQU47QUFDRDtBQUNEOUIsSUFBTSx1QkFBTjtBQUNBQSxJQUFNLE1BQU47QUFDQUEsSUFBTSxNQUFOO0FBQ0EsTUFBT0EsR0FBUDtBQUNELENBbEREOzs7Ozs7O0FBeURBLEdBQUl3Qyx3QkFBeUIsUUFBekJBLHVCQUF5QixDQUFTdkIsS0FBVCxDQUFnQjtBQUMzQyxNQUFPd0IsVUFBU0oscUJBQXFCcEIsS0FBckIsQ0FBVCxHQUFQO0FBQ0QsQ0FGRDs7O0FBS0F5QixPQUFPQyxPQUFQLENBQWlCSCxzQkFBakIiLCJmaWxlIjoiYnVpbGRTdHlsZUludGVycG9sYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0QnVpbGRTdHlsZUludGVycG9sYXRvclxuICovXG5cbi8qKlxuICogQ2Fubm90IFwidXNlIHN0cmljdFwiIGJlY2F1c2Ugd2UgbXVzdCB1c2UgZXZhbCBpbiB0aGlzIGZpbGUuXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIGdsb2JhbC1zdHJpY3QgKi9cblxuaW1wb3J0IGtleU9mIGZyb20gJ2ZianMvbGliL2tleU9mJztcblxudmFyIFhfRElNID0ga2V5T2Yoe3g6IG51bGx9KTtcbnZhciBZX0RJTSA9IGtleU9mKHt5OiBudWxsfSk7XG52YXIgWl9ESU0gPSBrZXlPZih7ejogbnVsbH0pO1xudmFyIFdfRElNID0ga2V5T2Yoe3c6IG51bGx9KTtcblxudmFyIFRSQU5TRk9STV9ST1RBVEVfTkFNRSA9IGtleU9mKHt0cmFuc2Zvcm1Sb3RhdGVSYWRpYW5zOiBudWxsfSk7XG5cbnZhciBTaG91bGRBbGxvY2F0ZVJldXNhYmxlT3BlcmF0aW9uVmFycyA9IHtcbiAgdHJhbnNmb3JtUm90YXRlUmFkaWFuczogdHJ1ZSxcbiAgdHJhbnNmb3JtU2NhbGU6IHRydWUsXG4gIHRyYW5zZm9ybVRyYW5zbGF0ZTogdHJ1ZSxcbn07XG5cbnZhciBJbml0aWFsT3BlcmF0aW9uRmllbGQgPSB7XG4gIHRyYW5zZm9ybVJvdGF0ZVJhZGlhbnM6IFswLCAwLCAwLCAxXSxcbiAgdHJhbnNmb3JtVHJhbnNsYXRlOiBbMCwgMCwgMF0sXG4gIHRyYW5zZm9ybVNjYWxlOiBbMSwgMSwgMV0sXG59O1xuXG5cbi8qKlxuICogQ3JlYXRlcyBhIGhpZ2hseSBzcGVjaWFsaXplZCBhbmltYXRpb24gZnVuY3Rpb24gdGhhdCBtYXkgYmUgZXZhbHVhdGVkIGV2ZXJ5XG4gKiBmcmFtZS4gRm9yIGV4YW1wbGU6XG4gKlxuICogICAgdmFyIFRvVGhlTGVmdCA9IHtcbiAqICAgICAgb3BhY2l0eToge1xuICogICAgICAgIGZyb206IDEsXG4gKiAgICAgICAgdG86IDAuNyxcbiAqICAgICAgICBtaW46IDAsXG4gKiAgICAgICAgbWF4OiAxLFxuICogICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICogICAgICAgIGV4dHJhcG9sYXRlOiBmYWxzZSxcbiAqICAgICAgICByb3VuZDogMTAwLFxuICogICAgICB9LFxuICogICAgICBsZWZ0OiB7XG4gKiAgICAgICAgZnJvbTogMCxcbiAqICAgICAgICB0bzogLVNDUkVFTl9XSURUSCAqIDAuMyxcbiAqICAgICAgICBtaW46IDAsXG4gKiAgICAgICAgbWF4OiAxLFxuICogICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICogICAgICAgIGV4dHJhcG9sYXRlOiB0cnVlLFxuICogICAgICAgIHJvdW5kOiBQaXhlbFJhdGlvLmdldCgpLFxuICogICAgICB9LFxuICogICAgfTtcbiAqXG4gKiAgICB2YXIgdG9UaGVMZWZ0ID0gYnVpbGRTdHlsZUludGVycG9sYXRvcihUb1RoZUxlZnQpO1xuICpcbiAqICBXb3VsZCByZXR1cm5zIGEgc3BlY2lhbGl6ZWQgZnVuY3Rpb24gb2YgdGhlIGZvcm06XG4gKlxuICogICAgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSkge1xuICogICAgICB2YXIgZGlkQ2hhbmdlID0gZmFsc2U7XG4gKiAgICAgIHZhciBuZXh0U2NhbGFyVmFsO1xuICogICAgICB2YXIgcmF0aW87XG4gKiAgICAgIHJhdGlvID0gKHZhbHVlIC0gMCkgLyAxO1xuICogICAgICByYXRpbyA9IHJhdGlvID4gMSA/IDEgOiAocmF0aW8gPCAwID8gMCA6IHJhdGlvKTtcbiAqICAgICAgbmV4dFNjYWxhclZhbCA9IE1hdGgucm91bmQoMTAwICogKDEgKiAoMSAtIHJhdGlvKSArIDAuNyAqIHJhdGlvKSkgLyAxMDA7XG4gKiAgICAgIGlmICghZGlkQ2hhbmdlKSB7XG4gKiAgICAgICAgdmFyIHByZXZWYWwgPSByZXN1bHQub3BhY2l0eTtcbiAqICAgICAgICByZXN1bHQub3BhY2l0eSA9IG5leHRTY2FsYXJWYWw7XG4gKiAgICAgICAgZGlkQ2hhbmdlID0gZGlkQ2hhbmdlICB8fCAobmV4dFNjYWxhclZhbCAhPT0gcHJldlZhbCk7XG4gKiAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgcmVzdWx0Lm9wYWNpdHkgPSBuZXh0U2NhbGFyVmFsO1xuICogICAgICB9XG4gKiAgICAgIHJhdGlvID0gKHZhbHVlIC0gMCkgLyAxO1xuICogICAgICBuZXh0U2NhbGFyVmFsID0gTWF0aC5yb3VuZCgyICogKDAgKiAoMSAtIHJhdGlvKSArIC0zMCAqIHJhdGlvKSkgLyAyO1xuICogICAgICBpZiAoIWRpZENoYW5nZSkge1xuICogICAgICAgIHZhciBwcmV2VmFsID0gcmVzdWx0LmxlZnQ7XG4gKiAgICAgICAgcmVzdWx0LmxlZnQgPSBuZXh0U2NhbGFyVmFsO1xuICogICAgICAgIGRpZENoYW5nZSA9IGRpZENoYW5nZSAgfHwgKG5leHRTY2FsYXJWYWwgIT09IHByZXZWYWwpO1xuICogICAgICB9IGVsc2Uge1xuICogICAgICAgIHJlc3VsdC5sZWZ0ID0gbmV4dFNjYWxhclZhbDtcbiAqICAgICAgfVxuICogICAgICByZXR1cm4gZGlkQ2hhbmdlO1xuICogICAgfVxuICovXG5cbnZhciBBUkdVTUVOVF9OQU1FU19SRSA9IC8oW15cXHMsXSspL2c7XG4vKipcbiAqIFRoaXMgaXMgb2J2aW91c2x5IGEgaHVnZSBoYWNrLiBQcm9wZXIgdG9vbGluZyB3b3VsZCBhbGxvdyBhY3R1YWwgaW5saW5pbmcuXG4gKiBUaGlzIG9ubHkgd29ya3MgaW4gYSBmZXcgbGltaXRlZCBjYXNlcyAod2hlcmUgdGhlcmUgaXMgbm8gZnVuY3Rpb24gcmV0dXJuXG4gKiB2YWx1ZSwgYW5kIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBtdXRhdGl2ZWx5IG9uIHBhcmFtZXRlcnMpLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICpcbiAqICAgdmFyIGlubGluZU1lKGEsIGIpIHtcbiAqICAgICAgYSA9IGIgKyBiO1xuICogIH07XG4gKlxuICogIGlubGluZShpbmxpbmVNZSwgWydoaScsICdieWUnXSk7ICAvLyBcImhpID0gYnllICsgYnllO1wiXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBBbnkgc2ltcGxlIGZ1bmN0aW9uIHdob3MgYXJndW1lbnRzIGNhbiBiZSByZXBsYWNlZCB2aWEgYSByZWdleC5cbiAqIEBwYXJhbSB7YXJyYXk8c3RyaW5nPn0gcmVwbGFjZVdpdGhBcmdzIENvcnJlc3BvbmRpbmcgbmFtZXMgb2YgdmFyaWFibGVzXG4gKiB3aXRoaW4gYW4gZW52aXJvbm1lbnQsIHRvIHJlcGxhY2UgYGZ1bmNgIGFyZ3Mgd2l0aC5cbiAqIEByZXR1cm4ge3N0cmluZ30gUmVzdWx0aW5nIGZ1bmN0aW9uIGJvZHkgc3RyaW5nLlxuICovXG52YXIgaW5saW5lID0gZnVuY3Rpb24oZnVuYywgcmVwbGFjZVdpdGhBcmdzKSB7XG4gIHZhciBmblN0ciA9IGZ1bmMudG9TdHJpbmcoKTtcbiAgdmFyIHBhcmFtZXRlck5hbWVzID0gZm5TdHIuc2xpY2UoZm5TdHIuaW5kZXhPZignKCcpICsgMSwgZm5TdHIuaW5kZXhPZignKScpKVxuICAgIC5tYXRjaChBUkdVTUVOVF9OQU1FU19SRSkgfHxcbiAgICBbXTtcbiAgdmFyIHJlcGxhY2VSZWdleFN0ciA9IHBhcmFtZXRlck5hbWVzLm1hcChmdW5jdGlvbihwYXJhbU5hbWUpIHtcbiAgICByZXR1cm4gJ1xcXFxiJyArIHBhcmFtTmFtZSArICdcXFxcYic7XG4gIH0pLmpvaW4oJ3wnKTtcbiAgdmFyIHJlcGxhY2VSZWdleCA9IG5ldyBSZWdFeHAocmVwbGFjZVJlZ2V4U3RyLCAnZycpO1xuICB2YXIgZm5Cb2R5ID0gZm5TdHIuc3Vic3RyaW5nKGZuU3RyLmluZGV4T2YoJ3snKSArIDEsIGZuU3RyLmxhc3RJbmRleE9mKCd9JykpO1xuICB2YXIgbmV3Rm5Cb2R5ID0gZm5Cb2R5LnJlcGxhY2UocmVwbGFjZVJlZ2V4LCBmdW5jdGlvbihwYXJhbWV0ZXJOYW1lKSB7XG4gICAgdmFyIGluZGV4SW5QYXJhbWV0ZXJOYW1lcyA9IHBhcmFtZXRlck5hbWVzLmluZGV4T2YocGFyYW1ldGVyTmFtZSk7XG4gICAgdmFyIHJlcGxhY2VtZW50TmFtZSA9IHJlcGxhY2VXaXRoQXJnc1tpbmRleEluUGFyYW1ldGVyTmFtZXNdO1xuICAgIHJldHVybiByZXBsYWNlbWVudE5hbWU7XG4gIH0pO1xuICByZXR1cm4gbmV3Rm5Cb2R5LnNwbGl0KCdcXG4nKTtcbn07XG5cbi8qKlxuICogU2ltcGx5IGEgY29udmVuaWVudCB3YXkgdG8gaW5saW5lIGZ1bmN0aW9ucyB1c2luZyB0aGUgZnVuY3Rpb24ncyB0b1N0cmluZ1xuICogbWV0aG9kLlxuICovXG52YXIgTWF0cml4T3BzID0ge1xuICB1bnJvbGw6IGZ1bmN0aW9uKG1hdFZhciwgbTAsIG0xLCBtMiwgbTMsIG00LCBtNSwgbTYsIG03LCBtOCwgbTksIG0xMCwgbTExLCBtMTIsIG0xMywgbTE0LCBtMTUpIHtcbiAgICBtMCA9IG1hdFZhclswXTtcbiAgICBtMSA9IG1hdFZhclsxXTtcbiAgICBtMiA9IG1hdFZhclsyXTtcbiAgICBtMyA9IG1hdFZhclszXTtcbiAgICBtNCA9IG1hdFZhcls0XTtcbiAgICBtNSA9IG1hdFZhcls1XTtcbiAgICBtNiA9IG1hdFZhcls2XTtcbiAgICBtNyA9IG1hdFZhcls3XTtcbiAgICBtOCA9IG1hdFZhcls4XTtcbiAgICBtOSA9IG1hdFZhcls5XTtcbiAgICBtMTAgPSBtYXRWYXJbMTBdO1xuICAgIG0xMSA9IG1hdFZhclsxMV07XG4gICAgbTEyID0gbWF0VmFyWzEyXTtcbiAgICBtMTMgPSBtYXRWYXJbMTNdO1xuICAgIG0xNCA9IG1hdFZhclsxNF07XG4gICAgbTE1ID0gbWF0VmFyWzE1XTtcbiAgfSxcblxuICBtYXRyaXhEaWZmZXJzOiBmdW5jdGlvbihyZXRWYXIsIG1hdFZhciwgbTAsIG0xLCBtMiwgbTMsIG00LCBtNSwgbTYsIG03LCBtOCwgbTksIG0xMCwgbTExLCBtMTIsIG0xMywgbTE0LCBtMTUpIHtcbiAgICByZXRWYXIgPSByZXRWYXIgfHxcbiAgICAgIG0wICE9PSBtYXRWYXJbMF0gfHxcbiAgICAgIG0xICE9PSBtYXRWYXJbMV0gfHxcbiAgICAgIG0yICE9PSBtYXRWYXJbMl0gfHxcbiAgICAgIG0zICE9PSBtYXRWYXJbM10gfHxcbiAgICAgIG00ICE9PSBtYXRWYXJbNF0gfHxcbiAgICAgIG01ICE9PSBtYXRWYXJbNV0gfHxcbiAgICAgIG02ICE9PSBtYXRWYXJbNl0gfHxcbiAgICAgIG03ICE9PSBtYXRWYXJbN10gfHxcbiAgICAgIG04ICE9PSBtYXRWYXJbOF0gfHxcbiAgICAgIG05ICE9PSBtYXRWYXJbOV0gfHxcbiAgICAgIG0xMCAhPT0gbWF0VmFyWzEwXSB8fFxuICAgICAgbTExICE9PSBtYXRWYXJbMTFdIHx8XG4gICAgICBtMTIgIT09IG1hdFZhclsxMl0gfHxcbiAgICAgIG0xMyAhPT0gbWF0VmFyWzEzXSB8fFxuICAgICAgbTE0ICE9PSBtYXRWYXJbMTRdIHx8XG4gICAgICBtMTUgIT09IG1hdFZhclsxNV07XG4gIH0sXG5cbiAgdHJhbnNmb3JtU2NhbGU6IGZ1bmN0aW9uKG1hdFZhciwgb3BWYXIpIHtcbiAgICAvLyBTY2FsaW5nIG1hdFZhciBieSBvcFZhclxuICAgIHZhciB4ID0gb3BWYXJbMF07XG4gICAgdmFyIHkgPSBvcFZhclsxXTtcbiAgICB2YXIgeiA9IG9wVmFyWzJdO1xuICAgIG1hdFZhclswXSA9IG1hdFZhclswXSAqIHg7XG4gICAgbWF0VmFyWzFdID0gbWF0VmFyWzFdICogeDtcbiAgICBtYXRWYXJbMl0gPSBtYXRWYXJbMl0gKiB4O1xuICAgIG1hdFZhclszXSA9IG1hdFZhclszXSAqIHg7XG4gICAgbWF0VmFyWzRdID0gbWF0VmFyWzRdICogeTtcbiAgICBtYXRWYXJbNV0gPSBtYXRWYXJbNV0gKiB5O1xuICAgIG1hdFZhcls2XSA9IG1hdFZhcls2XSAqIHk7XG4gICAgbWF0VmFyWzddID0gbWF0VmFyWzddICogeTtcbiAgICBtYXRWYXJbOF0gPSBtYXRWYXJbOF0gKiB6O1xuICAgIG1hdFZhcls5XSA9IG1hdFZhcls5XSAqIHo7XG4gICAgbWF0VmFyWzEwXSA9IG1hdFZhclsxMF0gKiB6O1xuICAgIG1hdFZhclsxMV0gPSBtYXRWYXJbMTFdICogejtcbiAgICBtYXRWYXJbMTJdID0gbWF0VmFyWzEyXTtcbiAgICBtYXRWYXJbMTNdID0gbWF0VmFyWzEzXTtcbiAgICBtYXRWYXJbMTRdID0gbWF0VmFyWzE0XTtcbiAgICBtYXRWYXJbMTVdID0gbWF0VmFyWzE1XTtcbiAgfSxcblxuICAvKipcbiAgICogQWxsIG9mIHRoZXNlIG1hdHJpeCB0cmFuc2Zvcm1zIGFyZSBub3QgZ2VuZXJhbCBwdXJwb3NlIHV0aWxpdGllcywgYW5kIGFyZVxuICAgKiBvbmx5IHN1aXRhYmxlIGZvciBiZWluZyBpbmxpbmVkIGZvciB0aGUgdXNlIG9mIGJ1aWxkaW5nIHVwIGludGVycG9sYXRvcnMuXG4gICAqL1xuICB0cmFuc2Zvcm1UcmFuc2xhdGU6IGZ1bmN0aW9uKG1hdFZhciwgb3BWYXIpIHtcbiAgICAvLyBUcmFuc2xhdGluZyBtYXRWYXIgYnkgb3BWYXJcbiAgICB2YXIgeCA9IG9wVmFyWzBdO1xuICAgIHZhciB5ID0gb3BWYXJbMV07XG4gICAgdmFyIHogPSBvcFZhclsyXTtcbiAgICBtYXRWYXJbMTJdID0gbWF0VmFyWzBdICogeCArIG1hdFZhcls0XSAqIHkgKyBtYXRWYXJbOF0gKiB6ICsgbWF0VmFyWzEyXTtcbiAgICBtYXRWYXJbMTNdID0gbWF0VmFyWzFdICogeCArIG1hdFZhcls1XSAqIHkgKyBtYXRWYXJbOV0gKiB6ICsgbWF0VmFyWzEzXTtcbiAgICBtYXRWYXJbMTRdID0gbWF0VmFyWzJdICogeCArIG1hdFZhcls2XSAqIHkgKyBtYXRWYXJbMTBdICogeiArIG1hdFZhclsxNF07XG4gICAgbWF0VmFyWzE1XSA9IG1hdFZhclszXSAqIHggKyBtYXRWYXJbN10gKiB5ICsgbWF0VmFyWzExXSAqIHogKyBtYXRWYXJbMTVdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FycmF5fSBtYXRWYXIgQm90aCB0aGUgaW5wdXQsIGFuZCB0aGUgb3V0cHV0IG1hdHJpeC5cbiAgICogQHBhcmFtIHtxdWF0ZXJuaW9uIHNwZWNpZmljYXRpb259IHEgRm91ciBlbGVtZW50IGFycmF5IGRlc2NyaWJpbmcgcm90YXRpb24uXG4gICAqL1xuICB0cmFuc2Zvcm1Sb3RhdGVSYWRpYW5zOiBmdW5jdGlvbihtYXRWYXIsIHEpIHtcbiAgICAvLyBSb3RhdGluZyBtYXRWYXIgYnkgcVxuICAgIHZhciB4UXVhdCA9IHFbMF0sIHlRdWF0ID0gcVsxXSwgelF1YXQgPSBxWzJdLCB3UXVhdCA9IHFbM107XG4gICAgdmFyIHgyUXVhdCA9IHhRdWF0ICsgeFF1YXQ7XG4gICAgdmFyIHkyUXVhdCA9IHlRdWF0ICsgeVF1YXQ7XG4gICAgdmFyIHoyUXVhdCA9IHpRdWF0ICsgelF1YXQ7XG4gICAgdmFyIHh4UXVhdCA9IHhRdWF0ICogeDJRdWF0O1xuICAgIHZhciB4eVF1YXQgPSB4UXVhdCAqIHkyUXVhdDtcbiAgICB2YXIgeHpRdWF0ID0geFF1YXQgKiB6MlF1YXQ7XG4gICAgdmFyIHl5UXVhdCA9IHlRdWF0ICogeTJRdWF0O1xuICAgIHZhciB5elF1YXQgPSB5UXVhdCAqIHoyUXVhdDtcbiAgICB2YXIgenpRdWF0ID0gelF1YXQgKiB6MlF1YXQ7XG4gICAgdmFyIHd4UXVhdCA9IHdRdWF0ICogeDJRdWF0O1xuICAgIHZhciB3eVF1YXQgPSB3UXVhdCAqIHkyUXVhdDtcbiAgICB2YXIgd3pRdWF0ID0gd1F1YXQgKiB6MlF1YXQ7XG4gICAgLy8gU3RlcCAxOiBJbmxpbmVzIHRoZSBjb25zdHJ1Y3Rpb24gb2YgYSBxdWF0ZXJuaW9uIG1hdHJpeCAoYHF1YXRNYXRgKVxuICAgIHZhciBxdWF0TWF0MCA9IDEgLSAoeXlRdWF0ICsgenpRdWF0KTtcbiAgICB2YXIgcXVhdE1hdDEgPSB4eVF1YXQgKyB3elF1YXQ7XG4gICAgdmFyIHF1YXRNYXQyID0geHpRdWF0IC0gd3lRdWF0O1xuICAgIHZhciBxdWF0TWF0NCA9IHh5UXVhdCAtIHd6UXVhdDtcbiAgICB2YXIgcXVhdE1hdDUgPSAxIC0gKHh4UXVhdCArIHp6UXVhdCk7XG4gICAgdmFyIHF1YXRNYXQ2ID0geXpRdWF0ICsgd3hRdWF0O1xuICAgIHZhciBxdWF0TWF0OCA9IHh6UXVhdCArIHd5UXVhdDtcbiAgICB2YXIgcXVhdE1hdDkgPSB5elF1YXQgLSB3eFF1YXQ7XG4gICAgdmFyIHF1YXRNYXQxMCA9IDEgLSAoeHhRdWF0ICsgeXlRdWF0KTtcbiAgICAvLyBxdWF0TWF0My83LzExLzEyLzEzLzE0ID0gMCwgcXVhdE1hdDE1ID0gMVxuXG4gICAgLy8gU3RlcCAyOiBJbmxpbmVzIG11bHRpcGxpY2F0aW9uLCB0YWtlcyBhZHZhbnRhZ2Ugb2YgY29uc3RhbnQgcXVhdE1hdCBjZWxsc1xuICAgIHZhciBhMDAgPSBtYXRWYXJbMF07XG4gICAgdmFyIGEwMSA9IG1hdFZhclsxXTtcbiAgICB2YXIgYTAyID0gbWF0VmFyWzJdO1xuICAgIHZhciBhMDMgPSBtYXRWYXJbM107XG4gICAgdmFyIGExMCA9IG1hdFZhcls0XTtcbiAgICB2YXIgYTExID0gbWF0VmFyWzVdO1xuICAgIHZhciBhMTIgPSBtYXRWYXJbNl07XG4gICAgdmFyIGExMyA9IG1hdFZhcls3XTtcbiAgICB2YXIgYTIwID0gbWF0VmFyWzhdO1xuICAgIHZhciBhMjEgPSBtYXRWYXJbOV07XG4gICAgdmFyIGEyMiA9IG1hdFZhclsxMF07XG4gICAgdmFyIGEyMyA9IG1hdFZhclsxMV07XG5cbiAgICB2YXIgYjAgPSBxdWF0TWF0MCwgYjEgPSBxdWF0TWF0MSwgYjIgPSBxdWF0TWF0MjtcbiAgICBtYXRWYXJbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjA7XG4gICAgbWF0VmFyWzFdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxO1xuICAgIG1hdFZhclsyXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMjtcbiAgICBtYXRWYXJbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjM7XG4gICAgYjAgPSBxdWF0TWF0NDsgYjEgPSBxdWF0TWF0NTsgYjIgPSBxdWF0TWF0NjtcbiAgICBtYXRWYXJbNF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjA7XG4gICAgbWF0VmFyWzVdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxO1xuICAgIG1hdFZhcls2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMjtcbiAgICBtYXRWYXJbN10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjM7XG4gICAgYjAgPSBxdWF0TWF0ODsgYjEgPSBxdWF0TWF0OTsgYjIgPSBxdWF0TWF0MTA7XG4gICAgbWF0VmFyWzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwO1xuICAgIG1hdFZhcls5XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMTtcbiAgICBtYXRWYXJbMTBdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyO1xuICAgIG1hdFZhclsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjM7XG4gIH1cbn07XG5cbi8vIE9wdGltaXplZCB2ZXJzaW9uIG9mIGdlbmVyYWwgb3BlcmF0aW9uIGFwcGxpY2F0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHdoZW5cbi8vIHRoZSB0YXJnZXQgbWF0cml4IGlzIGtub3duIHRvIGJlIHRoZSBpZGVudGl0eSBtYXRyaXguXG52YXIgTWF0cml4T3BzSW5pdGlhbCA9IHtcbiAgdHJhbnNmb3JtU2NhbGU6IGZ1bmN0aW9uKG1hdFZhciwgb3BWYXIpIHtcbiAgICAvLyBTY2FsaW5nIG1hdFZhciBrbm93biB0byBiZSBpZGVudGl0eSBieSBvcFZhclxuICAgIG1hdFZhclswXSA9IG9wVmFyWzBdO1xuICAgIG1hdFZhclsxXSA9IDA7XG4gICAgbWF0VmFyWzJdID0gMDtcbiAgICBtYXRWYXJbM10gPSAwO1xuICAgIG1hdFZhcls0XSA9IDA7XG4gICAgbWF0VmFyWzVdID0gb3BWYXJbMV07XG4gICAgbWF0VmFyWzZdID0gMDtcbiAgICBtYXRWYXJbN10gPSAwO1xuICAgIG1hdFZhcls4XSA9IDA7XG4gICAgbWF0VmFyWzldID0gMDtcbiAgICBtYXRWYXJbMTBdID0gb3BWYXJbMl07XG4gICAgbWF0VmFyWzExXSA9IDA7XG4gICAgbWF0VmFyWzEyXSA9IDA7XG4gICAgbWF0VmFyWzEzXSA9IDA7XG4gICAgbWF0VmFyWzE0XSA9IDA7XG4gICAgbWF0VmFyWzE1XSA9IDE7XG4gIH0sXG5cbiAgdHJhbnNmb3JtVHJhbnNsYXRlOiBmdW5jdGlvbihtYXRWYXIsIG9wVmFyKSB7XG4gICAgLy8gVHJhbnNsYXRpbmcgbWF0VmFyIGtub3duIHRvIGJlIGlkZW50aXR5IGJ5IG9wVmFyJztcbiAgICBtYXRWYXJbMF0gPSAxO1xuICAgIG1hdFZhclsxXSA9IDA7XG4gICAgbWF0VmFyWzJdID0gMDtcbiAgICBtYXRWYXJbM10gPSAwO1xuICAgIG1hdFZhcls0XSA9IDA7XG4gICAgbWF0VmFyWzVdID0gMTtcbiAgICBtYXRWYXJbNl0gPSAwO1xuICAgIG1hdFZhcls3XSA9IDA7XG4gICAgbWF0VmFyWzhdID0gMDtcbiAgICBtYXRWYXJbOV0gPSAwO1xuICAgIG1hdFZhclsxMF0gPSAxO1xuICAgIG1hdFZhclsxMV0gPSAwO1xuICAgIG1hdFZhclsxMl0gPSBvcFZhclswXTtcbiAgICBtYXRWYXJbMTNdID0gb3BWYXJbMV07XG4gICAgbWF0VmFyWzE0XSA9IG9wVmFyWzJdO1xuICAgIG1hdFZhclsxNV0gPSAxO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FycmF5fSBtYXRWYXIgQm90aCB0aGUgaW5wdXQsIGFuZCB0aGUgb3V0cHV0IG1hdHJpeCAtIGFzc3VtZWQgdG8gYmVcbiAgICogaWRlbnRpdHkuXG4gICAqIEBwYXJhbSB7cXVhdGVybmlvbiBzcGVjaWZpY2F0aW9ufSBxIEZvdXIgZWxlbWVudCBhcnJheSBkZXNjcmliaW5nIHJvdGF0aW9uLlxuICAgKi9cbiAgdHJhbnNmb3JtUm90YXRlUmFkaWFuczogZnVuY3Rpb24obWF0VmFyLCBxKSB7XG5cbiAgICAvLyBSb3RhdGluZyBtYXRWYXIgd2hpY2ggaXMga25vd24gdG8gYmUgaWRlbnRpdHkgYnkgcVxuICAgIHZhciB4UXVhdCA9IHFbMF0sIHlRdWF0ID0gcVsxXSwgelF1YXQgPSBxWzJdLCB3UXVhdCA9IHFbM107XG4gICAgdmFyIHgyUXVhdCA9IHhRdWF0ICsgeFF1YXQ7XG4gICAgdmFyIHkyUXVhdCA9IHlRdWF0ICsgeVF1YXQ7XG4gICAgdmFyIHoyUXVhdCA9IHpRdWF0ICsgelF1YXQ7XG4gICAgdmFyIHh4UXVhdCA9IHhRdWF0ICogeDJRdWF0O1xuICAgIHZhciB4eVF1YXQgPSB4UXVhdCAqIHkyUXVhdDtcbiAgICB2YXIgeHpRdWF0ID0geFF1YXQgKiB6MlF1YXQ7XG4gICAgdmFyIHl5UXVhdCA9IHlRdWF0ICogeTJRdWF0O1xuICAgIHZhciB5elF1YXQgPSB5UXVhdCAqIHoyUXVhdDtcbiAgICB2YXIgenpRdWF0ID0gelF1YXQgKiB6MlF1YXQ7XG4gICAgdmFyIHd4UXVhdCA9IHdRdWF0ICogeDJRdWF0O1xuICAgIHZhciB3eVF1YXQgPSB3UXVhdCAqIHkyUXVhdDtcbiAgICB2YXIgd3pRdWF0ID0gd1F1YXQgKiB6MlF1YXQ7XG4gICAgLy8gU3RlcCAxOiBJbmxpbmVzIHRoZSBjb25zdHJ1Y3Rpb24gb2YgYSBxdWF0ZXJuaW9uIG1hdHJpeCAoYHF1YXRNYXRgKVxuICAgIHZhciBxdWF0TWF0MCA9IDEgLSAoeXlRdWF0ICsgenpRdWF0KTtcbiAgICB2YXIgcXVhdE1hdDEgPSB4eVF1YXQgKyB3elF1YXQ7XG4gICAgdmFyIHF1YXRNYXQyID0geHpRdWF0IC0gd3lRdWF0O1xuICAgIHZhciBxdWF0TWF0NCA9IHh5UXVhdCAtIHd6UXVhdDtcbiAgICB2YXIgcXVhdE1hdDUgPSAxIC0gKHh4UXVhdCArIHp6UXVhdCk7XG4gICAgdmFyIHF1YXRNYXQ2ID0geXpRdWF0ICsgd3hRdWF0O1xuICAgIHZhciBxdWF0TWF0OCA9IHh6UXVhdCArIHd5UXVhdDtcbiAgICB2YXIgcXVhdE1hdDkgPSB5elF1YXQgLSB3eFF1YXQ7XG4gICAgdmFyIHF1YXRNYXQxMCA9IDEgLSAoeHhRdWF0ICsgeXlRdWF0KTtcbiAgICAvLyBxdWF0TWF0My83LzExLzEyLzEzLzE0ID0gMCwgcXVhdE1hdDE1ID0gMVxuXG4gICAgLy8gU3RlcCAyOiBJbmxpbmVzIHRoZSBtdWx0aXBsaWNhdGlvbiB3aXRoIGlkZW50aXR5IG1hdHJpeC5cbiAgICB2YXIgYjAgPSBxdWF0TWF0MCwgYjEgPSBxdWF0TWF0MSwgYjIgPSBxdWF0TWF0MjtcbiAgICBtYXRWYXJbMF0gPSBiMDtcbiAgICBtYXRWYXJbMV0gPSBiMTtcbiAgICBtYXRWYXJbMl0gPSBiMjtcbiAgICBtYXRWYXJbM10gPSAwO1xuICAgIGIwID0gcXVhdE1hdDQ7IGIxID0gcXVhdE1hdDU7IGIyID0gcXVhdE1hdDY7XG4gICAgbWF0VmFyWzRdID0gYjA7XG4gICAgbWF0VmFyWzVdID0gYjE7XG4gICAgbWF0VmFyWzZdID0gYjI7XG4gICAgbWF0VmFyWzddID0gMDtcbiAgICBiMCA9IHF1YXRNYXQ4OyBiMSA9IHF1YXRNYXQ5OyBiMiA9IHF1YXRNYXQxMDtcbiAgICBtYXRWYXJbOF0gPSBiMDtcbiAgICBtYXRWYXJbOV0gPSBiMTtcbiAgICBtYXRWYXJbMTBdID0gYjI7XG4gICAgbWF0VmFyWzExXSA9IDA7XG4gICAgbWF0VmFyWzEyXSA9IDA7XG4gICAgbWF0VmFyWzEzXSA9IDA7XG4gICAgbWF0VmFyWzE0XSA9IDA7XG4gICAgbWF0VmFyWzE1XSA9IDE7XG4gIH1cbn07XG5cblxudmFyIHNldE5leHRWYWxBbmREZXRlY3RDaGFuZ2UgPSBmdW5jdGlvbihuYW1lLCB0bXBWYXJOYW1lKSB7XG4gIHJldHVybiAoXG4gICAgJyAgaWYgKCFkaWRDaGFuZ2UpIHtcXG4nICtcbiAgICAnICAgIHZhciBwcmV2VmFsID0gcmVzdWx0LicgKyBuYW1lICsgJztcXG4nICtcbiAgICAnICAgIHJlc3VsdC4nICsgbmFtZSArICcgPSAnICsgdG1wVmFyTmFtZSArICc7XFxuJyArXG4gICAgJyAgICBkaWRDaGFuZ2UgPSBkaWRDaGFuZ2UgIHx8ICgnICsgdG1wVmFyTmFtZSArICcgIT09IHByZXZWYWwpO1xcbicgK1xuICAgICcgIH0gZWxzZSB7XFxuJyArXG4gICAgJyAgICByZXN1bHQuJyArIG5hbWUgKyAnID0gJyArIHRtcFZhck5hbWUgKyAnO1xcbicgK1xuICAgICcgIH1cXG4nXG4gICk7XG59O1xuXG52YXIgY29tcHV0ZU5leHRWYWxMaW5lYXIgPSBmdW5jdGlvbihhbmltLCBmcm9tLCB0bywgdG1wVmFyTmFtZSkge1xuICB2YXIgaGFzUm91bmRSYXRpbyA9ICdyb3VuZCcgaW4gYW5pbTtcbiAgdmFyIHJvdW5kUmF0aW8gPSBhbmltLnJvdW5kO1xuICB2YXIgZm4gPSAnICByYXRpbyA9ICh2YWx1ZSAtICcgKyBhbmltLm1pbiArICcpIC8gJyArIChhbmltLm1heCAtIGFuaW0ubWluKSArICc7XFxuJztcbiAgaWYgKCFhbmltLmV4dHJhcG9sYXRlKSB7XG4gICAgZm4gKz0gJyAgcmF0aW8gPSByYXRpbyA+IDEgPyAxIDogKHJhdGlvIDwgMCA/IDAgOiByYXRpbyk7XFxuJztcbiAgfVxuXG4gIHZhciByb3VuZE9wZW4gPSAoaGFzUm91bmRSYXRpbyA/ICdNYXRoLnJvdW5kKCcgKyByb3VuZFJhdGlvICsgJyAqICcgOiAnJyApO1xuICB2YXIgcm91bmRDbG9zZSA9IChoYXNSb3VuZFJhdGlvID8gJykgLyAnICsgcm91bmRSYXRpbyA6ICcnICk7XG4gIGZuICs9XG4gICAgJyAgJyArIHRtcFZhck5hbWUgKyAnID0gJyArXG4gICAgICAgcm91bmRPcGVuICtcbiAgICAgICAnKCcgKyBmcm9tICsgJyAqICgxIC0gcmF0aW8pICsgJyArIHRvICsgJyAqIHJhdGlvKScgK1xuICAgICAgIHJvdW5kQ2xvc2UgKyAnO1xcbic7XG4gIHJldHVybiBmbjtcbn07XG5cbnZhciBjb21wdXRlTmV4dFZhbExpbmVhclNjYWxhciA9IGZ1bmN0aW9uKGFuaW0pIHtcbiAgcmV0dXJuIGNvbXB1dGVOZXh0VmFsTGluZWFyKGFuaW0sIGFuaW0uZnJvbSwgYW5pbS50bywgJ25leHRTY2FsYXJWYWwnKTtcbn07XG5cbnZhciBjb21wdXRlTmV4dFZhbENvbnN0YW50ID0gZnVuY3Rpb24oYW5pbSkge1xuICB2YXIgY29uc3RhbnRFeHByZXNzaW9uID0gSlNPTi5zdHJpbmdpZnkoYW5pbS52YWx1ZSk7XG4gIHJldHVybiAnICBuZXh0U2NhbGFyVmFsID0gJyArIGNvbnN0YW50RXhwcmVzc2lvbiArICc7XFxuJztcbn07XG5cbnZhciBjb21wdXRlTmV4dFZhbFN0ZXAgPSBmdW5jdGlvbihhbmltKSB7XG4gIHJldHVybiAoXG4gICAgJyAgbmV4dFNjYWxhclZhbCA9IHZhbHVlID49ICcgK1xuICAgICAgICAgKGFuaW0udGhyZXNob2xkICsgJyA/ICcgKyBhbmltLnRvICsgJyA6ICcgKyBhbmltLmZyb20pICsgJztcXG4nXG4gICk7XG59O1xuXG52YXIgY29tcHV0ZU5leHRWYWxJZGVudGl0eSA9IGZ1bmN0aW9uKGFuaW0pIHtcbiAgcmV0dXJuICcgIG5leHRTY2FsYXJWYWwgPSB2YWx1ZTtcXG4nO1xufTtcblxudmFyIG9wZXJhdGlvblZhciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUgKyAnUmV1c2VPcCc7XG59O1xuXG52YXIgY3JlYXRlUmV1c2FibGVPcGVyYXRpb25WYXJzID0gZnVuY3Rpb24oYW5pbXMpIHtcbiAgdmFyIHJldCA9ICcnO1xuICBmb3IgKHZhciBuYW1lIGluIGFuaW1zKSB7XG4gICAgaWYgKFNob3VsZEFsbG9jYXRlUmV1c2FibGVPcGVyYXRpb25WYXJzW25hbWVdKSB7XG4gICAgICByZXQgKz0gJ3ZhciAnICsgb3BlcmF0aW9uVmFyKG5hbWUpICsgJyA9IFtdO1xcbic7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG52YXIgbmV3bGluZXMgPSBmdW5jdGlvbihzdGF0ZW1lbnRzKSB7XG4gIHJldHVybiAnXFxuJyArIHN0YXRlbWVudHMuam9pbignXFxuJykgKyAnXFxuJztcbn07XG5cbi8qKlxuICogQHBhcmFtIHtBbmltYXRpb259IGFuaW0gQ29uZmlndXJhdGlvbiBlbnRyeS5cbiAqIEBwYXJhbSB7a2V5fSBkaW1lbnNpb24gS2V5IHRvIGV4YW1pbmUgaW4gYGZyb21gL2B0b2AuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggRmllbGQgaW4gb3BlcmF0aW9uVmFyIHRvIHNldC5cbiAqIEByZXR1cm4ge3N0cmluZ30gQ29kZSB0aGF0IHNldHMgdGhlIG9wZXJhdGlvbiB2YXJpYWJsZSdzIGZpZWxkLlxuICovXG52YXIgY29tcHV0ZU5leHRNYXRyaXhPcGVyYXRpb25GaWVsZCA9IGZ1bmN0aW9uKGFuaW0sIG5hbWUsIGRpbWVuc2lvbiwgaW5kZXgpIHtcbiAgdmFyIGZpZWxkQWNjZXNzID0gb3BlcmF0aW9uVmFyKG5hbWUpICsgJ1snICsgaW5kZXggKyAnXSc7XG4gIGlmIChhbmltLmZyb21bZGltZW5zaW9uXSAhPT0gdW5kZWZpbmVkICYmIGFuaW0udG9bZGltZW5zaW9uXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuICcgICcgKyBhbmltLmZyb21bZGltZW5zaW9uXSAhPT0gYW5pbS50b1tkaW1lbnNpb25dID9cbiAgICAgICAgY29tcHV0ZU5leHRWYWxMaW5lYXIoYW5pbSwgYW5pbS5mcm9tW2RpbWVuc2lvbl0sIGFuaW0udG9bZGltZW5zaW9uXSwgZmllbGRBY2Nlc3MpIDpcbiAgICAgICAgZmllbGRBY2Nlc3MgKyAnID0gJyArIGFuaW0uZnJvbVtkaW1lbnNpb25dICsgJzsnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnICAnICsgZmllbGRBY2Nlc3MgKyAnID0gJyArIEluaXRpYWxPcGVyYXRpb25GaWVsZFtuYW1lXVtpbmRleF0gKyAnOyc7XG4gIH1cbn07XG5cbnZhciB1bnJvbGxlZFZhcnMgPSBbXTtcbmZvciAodmFyIHZhckluZGV4ID0gMDsgdmFySW5kZXggPCAxNjsgdmFySW5kZXgrKykge1xuICB1bnJvbGxlZFZhcnMucHVzaCgnbScgKyB2YXJJbmRleCk7XG59XG52YXIgc2V0TmV4dE1hdHJpeEFuZERldGVjdENoYW5nZSA9IGZ1bmN0aW9uKG9yZGVyZWRNYXRyaXhPcGVyYXRpb25zKSB7XG4gIHZhciBmbiA9IFtcbiAgICAnICB2YXIgdHJhbnNmb3JtTWF0cml4ID0gcmVzdWx0LnRyYW5zZm9ybU1hdHJpeCAhPT0gdW5kZWZpbmVkID8gJyArXG4gICAgJ3Jlc3VsdC50cmFuc2Zvcm1NYXRyaXggOiAocmVzdWx0LnRyYW5zZm9ybU1hdHJpeCA9IFtdKTsnXG4gIF07XG4gIGZuLnB1c2guYXBwbHkoXG4gICAgZm4sXG4gICAgaW5saW5lKE1hdHJpeE9wcy51bnJvbGwsIFsndHJhbnNmb3JtTWF0cml4J10uY29uY2F0KHVucm9sbGVkVmFycykpXG4gICk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXJlZE1hdHJpeE9wZXJhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgb3BOYW1lID0gb3JkZXJlZE1hdHJpeE9wZXJhdGlvbnNbaV07XG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIGZuLnB1c2guYXBwbHkoXG4gICAgICAgIGZuLFxuICAgICAgICBpbmxpbmUoTWF0cml4T3BzSW5pdGlhbFtvcE5hbWVdLCBbJ3RyYW5zZm9ybU1hdHJpeCcsIG9wZXJhdGlvblZhcihvcE5hbWUpXSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZuLnB1c2guYXBwbHkoXG4gICAgICAgIGZuLFxuICAgICAgICBpbmxpbmUoTWF0cml4T3BzW29wTmFtZV0sIFsndHJhbnNmb3JtTWF0cml4Jywgb3BlcmF0aW9uVmFyKG9wTmFtZSldKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgZm4ucHVzaC5hcHBseShcbiAgICBmbixcbiAgICBpbmxpbmUoTWF0cml4T3BzLm1hdHJpeERpZmZlcnMsIFsnZGlkQ2hhbmdlJywgJ3RyYW5zZm9ybU1hdHJpeCddLmNvbmNhdCh1bnJvbGxlZFZhcnMpKVxuICApO1xuICByZXR1cm4gZm47XG59O1xuXG52YXIgSW50ZXJwb2xhdGVNYXRyaXggPSB7XG4gIHRyYW5zZm9ybVRyYW5zbGF0ZTogdHJ1ZSxcbiAgdHJhbnNmb3JtUm90YXRlUmFkaWFuczogdHJ1ZSxcbiAgdHJhbnNmb3JtU2NhbGU6IHRydWUsXG59O1xuXG52YXIgY3JlYXRlRnVuY3Rpb25TdHJpbmcgPSBmdW5jdGlvbihhbmltcykge1xuICAvLyBXZSBtdXN0IHRyYWNrIHRoZSBvcmRlciB0aGV5IGFwcGVhciBpbiBzbyB0cmFuc2Zvcm1zIGFyZSBhcHBsaWVkIGluIHRoZVxuICAvLyBjb3JyZWN0IG9yZGVyLlxuICB2YXIgb3JkZXJlZE1hdHJpeE9wZXJhdGlvbnMgPSBbXTtcblxuICAvLyBXcmFwcGluZyBmdW5jdGlvbiBhbGxvd3MgdGhlIGZpbmFsIGZ1bmN0aW9uIHRvIGNvbnRhaW4gc3RhdGUgKGZvclxuICAvLyBjYWNoaW5nKS5cbiAgdmFyIGZuID0gJ3JldHVybiAoZnVuY3Rpb24oKSB7XFxuJztcbiAgZm4gKz0gY3JlYXRlUmV1c2FibGVPcGVyYXRpb25WYXJzKGFuaW1zKTtcbiAgZm4gKz0gJ3JldHVybiBmdW5jdGlvbihyZXN1bHQsIHZhbHVlKSB7XFxuJztcbiAgZm4gKz0gJyAgdmFyIGRpZENoYW5nZSA9IGZhbHNlO1xcbic7XG4gIGZuICs9ICcgIHZhciBuZXh0U2NhbGFyVmFsO1xcbic7XG4gIGZuICs9ICcgIHZhciByYXRpbztcXG4nO1xuXG4gIGZvciAodmFyIG5hbWUgaW4gYW5pbXMpIHtcbiAgICB2YXIgYW5pbSA9IGFuaW1zW25hbWVdO1xuICAgIGlmIChhbmltLnR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICBpZiAoSW50ZXJwb2xhdGVNYXRyaXhbbmFtZV0pIHtcbiAgICAgICAgb3JkZXJlZE1hdHJpeE9wZXJhdGlvbnMucHVzaChuYW1lKTtcbiAgICAgICAgdmFyIHNldE9wZXJhdGlvbnMgPSBbXG4gICAgICAgICAgY29tcHV0ZU5leHRNYXRyaXhPcGVyYXRpb25GaWVsZChhbmltLCBuYW1lLCBYX0RJTSwgMCksXG4gICAgICAgICAgY29tcHV0ZU5leHRNYXRyaXhPcGVyYXRpb25GaWVsZChhbmltLCBuYW1lLCBZX0RJTSwgMSksXG4gICAgICAgICAgY29tcHV0ZU5leHRNYXRyaXhPcGVyYXRpb25GaWVsZChhbmltLCBuYW1lLCBaX0RJTSwgMilcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKG5hbWUgPT09IFRSQU5TRk9STV9ST1RBVEVfTkFNRSkge1xuICAgICAgICAgIHNldE9wZXJhdGlvbnMucHVzaChjb21wdXRlTmV4dE1hdHJpeE9wZXJhdGlvbkZpZWxkKGFuaW0sIG5hbWUsIFdfRElNLCAzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm4gKz0gbmV3bGluZXMoc2V0T3BlcmF0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbiArPSBjb21wdXRlTmV4dFZhbExpbmVhclNjYWxhcihhbmltLCAnbmV4dFNjYWxhclZhbCcpO1xuICAgICAgICBmbiArPSBzZXROZXh0VmFsQW5kRGV0ZWN0Q2hhbmdlKG5hbWUsICduZXh0U2NhbGFyVmFsJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhbmltLnR5cGUgPT09ICdjb25zdGFudCcpIHtcbiAgICAgIGZuICs9IGNvbXB1dGVOZXh0VmFsQ29uc3RhbnQoYW5pbSk7XG4gICAgICBmbiArPSBzZXROZXh0VmFsQW5kRGV0ZWN0Q2hhbmdlKG5hbWUsICduZXh0U2NhbGFyVmFsJyk7XG4gICAgfSBlbHNlIGlmIChhbmltLnR5cGUgPT09ICdzdGVwJykge1xuICAgICAgZm4gKz0gY29tcHV0ZU5leHRWYWxTdGVwKGFuaW0pO1xuICAgICAgZm4gKz0gc2V0TmV4dFZhbEFuZERldGVjdENoYW5nZShuYW1lLCAnbmV4dFNjYWxhclZhbCcpO1xuICAgIH0gZWxzZSBpZiAoYW5pbS50eXBlID09PSAnaWRlbnRpdHknKSB7XG4gICAgICBmbiArPSBjb21wdXRlTmV4dFZhbElkZW50aXR5KGFuaW0pO1xuICAgICAgZm4gKz0gc2V0TmV4dFZhbEFuZERldGVjdENoYW5nZShuYW1lLCAnbmV4dFNjYWxhclZhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAob3JkZXJlZE1hdHJpeE9wZXJhdGlvbnMubGVuZ3RoKSB7XG4gICAgZm4gKz0gbmV3bGluZXMoc2V0TmV4dE1hdHJpeEFuZERldGVjdENoYW5nZShvcmRlcmVkTWF0cml4T3BlcmF0aW9ucykpO1xuICB9XG4gIGZuICs9ICcgIHJldHVybiBkaWRDaGFuZ2U7XFxuJztcbiAgZm4gKz0gJ307XFxuJztcbiAgZm4gKz0gJ30pKCknO1xuICByZXR1cm4gZm47XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBhbmltcyBBbmltYXRpb24gY29uZmlndXJhdGlvbiBieSBzdHlsZSBwcm9wZXJ0eSBuYW1lLlxuICogQHJldHVybiB7ZnVuY3Rpb259IEZ1bmN0aW9uIGFjY2VwdGluZyBzdHlsZSBvYmplY3QsIHRoYXQgbXV0YXRlcyB0aGF0IHN0eWxlXG4gKiBvYmplY3QgYW5kIHJldHVybnMgYSBib29sZWFuIGRlc2NyaWJpbmcgaWYgYW55IHVwZGF0ZSB3YXMgYWN0dWFsbHkgYXBwbGllZC5cbiAqL1xudmFyIGJ1aWxkU3R5bGVJbnRlcnBvbGF0b3IgPSBmdW5jdGlvbihhbmltcykge1xuICByZXR1cm4gRnVuY3Rpb24oY3JlYXRlRnVuY3Rpb25TdHJpbmcoYW5pbXMpKSgpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ1aWxkU3R5bGVJbnRlcnBvbGF0b3I7XG4iXX0=