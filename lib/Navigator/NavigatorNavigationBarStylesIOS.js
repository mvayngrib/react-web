








'use strict';

var _ReactDimensions=require('../Dimensions/Dimensions.web');var _ReactDimensions2=_interopRequireDefault(_ReactDimensions);
var _buildStyleInterpolator=require('./polyfills/buildStyleInterpolator');var _buildStyleInterpolator2=_interopRequireDefault(_buildStyleInterpolator);
var _merge=require('./polyfills/merge');var _merge2=_interopRequireDefault(_merge);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}

var NAV_BAR_HEIGHT=44;
var STATUS_BAR_HEIGHT=20;
var NAV_HEIGHT=NAV_BAR_HEIGHT+STATUS_BAR_HEIGHT;

var BASE_STYLES={
Title:{
position:'absolute',
top:STATUS_BAR_HEIGHT,
left:0,
right:0,
alignItems:'center',
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'},

LeftButton:{
position:'absolute',
top:STATUS_BAR_HEIGHT,
left:0,
overflow:'hidden',
opacity:1,
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'},

RightButton:{
position:'absolute',
top:STATUS_BAR_HEIGHT,
right:0,
overflow:'hidden',
opacity:1,
alignItems:'flex-end',
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'}};



var caches={};
var opacityRatio=100;








function calcStyles(screenWidth){
var Stages={
Left:{
Title:(0,_merge2.default)(BASE_STYLES.Title,{left:-screenWidth/2,opacity:0}),
LeftButton:(0,_merge2.default)(BASE_STYLES.LeftButton,{left:-screenWidth/3,opacity:1}),
RightButton:(0,_merge2.default)(BASE_STYLES.RightButton,{left:screenWidth/3,opacity:0})},

Center:{
Title:(0,_merge2.default)(BASE_STYLES.Title,{left:0,opacity:1}),
LeftButton:(0,_merge2.default)(BASE_STYLES.LeftButton,{left:0,opacity:1}),
RightButton:(0,_merge2.default)(BASE_STYLES.RightButton,{left:2*screenWidth/3-0,opacity:1})},

Right:{
Title:(0,_merge2.default)(BASE_STYLES.Title,{left:screenWidth/2,opacity:0}),
LeftButton:(0,_merge2.default)(BASE_STYLES.LeftButton,{left:0,opacity:0}),
RightButton:(0,_merge2.default)(BASE_STYLES.RightButton,{left:screenWidth,opacity:0})}};



var Interpolators={

RightToCenter:buildSceneInterpolators(Stages.Right,Stages.Center),

CenterToLeft:buildSceneInterpolators(Stages.Center,Stages.Left),

RightToLeft:buildSceneInterpolators(Stages.Right,Stages.Left)};


return{
Stages:Stages,
Interpolators:Interpolators};

};

function buildSceneInterpolators(startStyles,endStyles){
return{
Title:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.Title.opacity,
to:endStyles.Title.opacity,
min:0,
max:1},

left:{
type:'linear',
from:startStyles.Title.left,
to:endStyles.Title.left,
min:0,
max:1,
extrapolate:true}}),


LeftButton:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.LeftButton.opacity,
to:endStyles.LeftButton.opacity,
min:0,
max:1,
round:opacityRatio},

left:{
type:'linear',
from:startStyles.LeftButton.left,
to:endStyles.LeftButton.left,
min:0,
max:1}}),


RightButton:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.RightButton.opacity,
to:endStyles.RightButton.opacity,
min:0,
max:1,
round:opacityRatio},

left:{
type:'linear',
from:startStyles.RightButton.left,
to:endStyles.RightButton.left,
min:0,
max:1,
extrapolate:true}})};



}

function getStyles(){
var screenWidth=_ReactDimensions2.default.get('window').width;
if(!caches[screenWidth]){
caches[screenWidth]=calcStyles(screenWidth);
}

return caches[screenWidth];
}

module.exports={
General:{
NavBarHeight:NAV_BAR_HEIGHT,
StatusBarHeight:STATUS_BAR_HEIGHT,
TotalNavHeight:NAV_HEIGHT},

get Interpolators(){
return getStyles().Interpolators;
},
get Stages(){
return getStyles().Stages;
}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5hdmlnYXRvck5hdmlnYXRpb25CYXJTdHlsZXNJT1MuanMiXSwibmFtZXMiOlsiTkFWX0JBUl9IRUlHSFQiLCJTVEFUVVNfQkFSX0hFSUdIVCIsIk5BVl9IRUlHSFQiLCJCQVNFX1NUWUxFUyIsIlRpdGxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJhbGlnbkl0ZW1zIiwiaGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwiTGVmdEJ1dHRvbiIsIm92ZXJmbG93Iiwib3BhY2l0eSIsIlJpZ2h0QnV0dG9uIiwiY2FjaGVzIiwib3BhY2l0eVJhdGlvIiwiY2FsY1N0eWxlcyIsInNjcmVlbldpZHRoIiwiU3RhZ2VzIiwiTGVmdCIsIkNlbnRlciIsIlJpZ2h0IiwiSW50ZXJwb2xhdG9ycyIsIlJpZ2h0VG9DZW50ZXIiLCJidWlsZFNjZW5lSW50ZXJwb2xhdG9ycyIsIkNlbnRlclRvTGVmdCIsIlJpZ2h0VG9MZWZ0Iiwic3RhcnRTdHlsZXMiLCJlbmRTdHlsZXMiLCJ0eXBlIiwiZnJvbSIsInRvIiwibWluIiwibWF4IiwiZXh0cmFwb2xhdGUiLCJyb3VuZCIsImdldFN0eWxlcyIsImdldCIsIndpZHRoIiwibW9kdWxlIiwiZXhwb3J0cyIsIkdlbmVyYWwiLCJOYXZCYXJIZWlnaHQiLCJTdGF0dXNCYXJIZWlnaHQiLCJUb3RhbE5hdkhlaWdodCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBU0E7O0FBRUEsNkQ7QUFDQSwwRTtBQUNBLHdDOztBQUVBLEdBQUlBLGdCQUFpQixFQUFyQjtBQUNBLEdBQUlDLG1CQUFvQixFQUF4QjtBQUNBLEdBQUlDLFlBQWFGLGVBQWlCQyxpQkFBbEM7O0FBRUEsR0FBSUUsYUFBYztBQUNoQkMsTUFBTztBQUNMQyxTQUFVLFVBREw7QUFFTEMsSUFBS0wsaUJBRkE7QUFHTE0sS0FBTSxDQUhEO0FBSUxDLE1BQU8sQ0FKRjtBQUtMQyxXQUFZLFFBTFA7QUFNTEMsT0FBUVYsY0FOSDtBQU9MVyxnQkFBaUIsYUFQWixDQURT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QUFDeEIsT0FBT0csV0FBUCxDQUFMLENBQTBCO0FBQ3hCSCxPQUFPRyxXQUFQLEVBQXNCRCxXQUFXQyxXQUFYLENBQXRCO0FBQ0Q7O0FBRUQsTUFBT0gsUUFBT0csV0FBUCxDQUFQO0FBQ0Q7O0FBRURzQixPQUFPQyxPQUFQLENBQWlCO0FBQ2ZDLFFBQVM7QUFDUEMsYUFBYzVDLGNBRFA7QUFFUDZDLGdCQUFpQjVDLGlCQUZWO0FBR1A2QyxlQUFnQjVDLFVBSFQsQ0FETTs7QUFNZixHQUFJc0IsY0FBSixFQUFvQjtBQUNsQixNQUFPYyxhQUFZZCxhQUFuQjtBQUNELENBUmM7QUFTZixHQUFJSixPQUFKLEVBQWE7QUFDWCxNQUFPa0IsYUFBWWxCLE1BQW5CO0FBQ0QsQ0FYYyxDQUFqQiIsImZpbGUiOiJOYXZpZ2F0b3JOYXZpZ2F0aW9uQmFyU3R5bGVzSU9TLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgQWxpYmFiYSBHcm91cCBIb2xkaW5nIExpbWl0ZWQuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3ROYXZpZ2F0b3JOYXZpZ2F0aW9uQmFyU3R5bGVzSU9TXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IERpbWVuc2lvbnMgZnJvbSAnUmVhY3REaW1lbnNpb25zJztcbmltcG9ydCBidWlsZFN0eWxlSW50ZXJwb2xhdG9yIGZyb20gJy4vcG9seWZpbGxzL2J1aWxkU3R5bGVJbnRlcnBvbGF0b3InO1xuaW1wb3J0IG1lcmdlIGZyb20gJy4vcG9seWZpbGxzL21lcmdlJztcblxudmFyIE5BVl9CQVJfSEVJR0hUID0gNDQ7XG52YXIgU1RBVFVTX0JBUl9IRUlHSFQgPSAyMDtcbnZhciBOQVZfSEVJR0hUID0gTkFWX0JBUl9IRUlHSFQgKyBTVEFUVVNfQkFSX0hFSUdIVDtcblxudmFyIEJBU0VfU1RZTEVTID0ge1xuICBUaXRsZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogU1RBVFVTX0JBUl9IRUlHSFQsXG4gICAgbGVmdDogMCxcbiAgICByaWdodDogMCxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBoZWlnaHQ6IE5BVl9CQVJfSEVJR0hULFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgfSxcbiAgTGVmdEJ1dHRvbjoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogU1RBVFVTX0JBUl9IRUlHSFQsXG4gICAgbGVmdDogMCxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgb3BhY2l0eTogMSxcbiAgICBoZWlnaHQ6IE5BVl9CQVJfSEVJR0hULFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgfSxcbiAgUmlnaHRCdXR0b246IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6IFNUQVRVU19CQVJfSEVJR0hULFxuICAgIHJpZ2h0OiAwLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICBvcGFjaXR5OiAxLFxuICAgIGFsaWduSXRlbXM6ICdmbGV4LWVuZCcsXG4gICAgaGVpZ2h0OiBOQVZfQkFSX0hFSUdIVCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gIH0sXG59O1xuXG52YXIgY2FjaGVzID0ge31cbnZhciBvcGFjaXR5UmF0aW8gPSAxMDA7XG5cbi8vIFRoZXJlIGFyZSAzIHN0YWdlczogbGVmdCwgY2VudGVyLCByaWdodC4gQWxsIHByZXZpb3VzIG5hdmlnYXRpb25cbi8vIGl0ZW1zIGFyZSBpbiB0aGUgbGVmdCBzdGFnZS4gVGhlIGN1cnJlbnQgbmF2aWdhdGlvbiBpdGVtIGlzIGluIHRoZVxuLy8gY2VudGVyIHN0YWdlLiBBbGwgdXBjb21pbmcgbmF2aWdhdGlvbiBpdGVtcyBhcmUgaW4gdGhlIHJpZ2h0IHN0YWdlLlxuLy8gQW5vdGhlciB3YXkgdG8gdGhpbmsgb2YgdGhlIHN0YWdlcyBpcyBpbiB0ZXJtcyBvZiB0cmFuc2l0aW9ucy4gV2hlblxuLy8gd2UgbW92ZSBmb3J3YXJkIGluIHRoZSBuYXZpZ2F0aW9uIHN0YWNrLCB3ZSBwZXJmb3JtIGFcbi8vIHJpZ2h0LXRvLWNlbnRlciB0cmFuc2l0aW9uIG9uIHRoZSBuZXcgbmF2aWdhdGlvbiBpdGVtIGFuZCBhXG4vLyBjZW50ZXItdG8tbGVmdCB0cmFuc2l0aW9uIG9uIHRoZSBjdXJyZW50IG5hdmlnYXRpb24gaXRlbS5cbmZ1bmN0aW9uIGNhbGNTdHlsZXMgKHNjcmVlbldpZHRoKSB7XG4gIGNvbnN0IFN0YWdlcyA9IHtcbiAgICBMZWZ0OiB7XG4gICAgICBUaXRsZTogbWVyZ2UoQkFTRV9TVFlMRVMuVGl0bGUsIHsgbGVmdDogLSBzY3JlZW5XaWR0aCAvIDIsIG9wYWNpdHk6IDAgfSksXG4gICAgICBMZWZ0QnV0dG9uOiBtZXJnZShCQVNFX1NUWUxFUy5MZWZ0QnV0dG9uLCB7IGxlZnQ6IC0gc2NyZWVuV2lkdGggLyAzLCBvcGFjaXR5OiAxIH0pLFxuICAgICAgUmlnaHRCdXR0b246IG1lcmdlKEJBU0VfU1RZTEVTLlJpZ2h0QnV0dG9uLCB7IGxlZnQ6IHNjcmVlbldpZHRoIC8gMywgb3BhY2l0eTogMCB9KSxcbiAgICB9LFxuICAgIENlbnRlcjoge1xuICAgICAgVGl0bGU6IG1lcmdlKEJBU0VfU1RZTEVTLlRpdGxlLCB7IGxlZnQ6IDAsIG9wYWNpdHk6IDEgfSksXG4gICAgICBMZWZ0QnV0dG9uOiBtZXJnZShCQVNFX1NUWUxFUy5MZWZ0QnV0dG9uLCB7IGxlZnQ6IDAsIG9wYWNpdHk6IDEgfSksXG4gICAgICBSaWdodEJ1dHRvbjogbWVyZ2UoQkFTRV9TVFlMRVMuUmlnaHRCdXR0b24sIHsgbGVmdDogMiAqIHNjcmVlbldpZHRoIC8gMyAtIDAsIG9wYWNpdHk6IDEgfSksXG4gICAgfSxcbiAgICBSaWdodDoge1xuICAgICAgVGl0bGU6IG1lcmdlKEJBU0VfU1RZTEVTLlRpdGxlLCB7IGxlZnQ6IHNjcmVlbldpZHRoIC8gMiwgb3BhY2l0eTogMCB9KSxcbiAgICAgIExlZnRCdXR0b246IG1lcmdlKEJBU0VfU1RZTEVTLkxlZnRCdXR0b24sIHsgbGVmdDogMCwgb3BhY2l0eTogMCB9KSxcbiAgICAgIFJpZ2h0QnV0dG9uOiBtZXJnZShCQVNFX1NUWUxFUy5SaWdodEJ1dHRvbiwgeyBsZWZ0OiBzY3JlZW5XaWR0aCwgb3BhY2l0eTogMCB9KSxcbiAgICB9LFxuICB9XG5cbiAgY29uc3QgSW50ZXJwb2xhdG9ycyA9IHtcbiAgICAvLyBBbmltYXRpbmcgKmludG8qIHRoZSBjZW50ZXIgc3RhZ2UgZnJvbSB0aGUgcmlnaHRcbiAgICBSaWdodFRvQ2VudGVyOiBidWlsZFNjZW5lSW50ZXJwb2xhdG9ycyhTdGFnZXMuUmlnaHQsIFN0YWdlcy5DZW50ZXIpLFxuICAgIC8vIEFuaW1hdGluZyBvdXQgb2YgdGhlIGNlbnRlciBzdGFnZSwgdG8gdGhlIGxlZnRcbiAgICBDZW50ZXJUb0xlZnQ6IGJ1aWxkU2NlbmVJbnRlcnBvbGF0b3JzKFN0YWdlcy5DZW50ZXIsIFN0YWdlcy5MZWZ0KSxcbiAgICAvLyBCb3RoIHN0YWdlcyAoYW5pbWF0aW5nICpwYXN0KiB0aGUgY2VudGVyIHN0YWdlKVxuICAgIFJpZ2h0VG9MZWZ0OiBidWlsZFNjZW5lSW50ZXJwb2xhdG9ycyhTdGFnZXMuUmlnaHQsIFN0YWdlcy5MZWZ0KSxcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgU3RhZ2VzLFxuICAgIEludGVycG9sYXRvcnNcbiAgfVxufTtcblxuZnVuY3Rpb24gYnVpbGRTY2VuZUludGVycG9sYXRvcnMoc3RhcnRTdHlsZXMsIGVuZFN0eWxlcykge1xuICByZXR1cm4ge1xuICAgIFRpdGxlOiBidWlsZFN0eWxlSW50ZXJwb2xhdG9yKHtcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdHlwZTogJ2xpbmVhcicsXG4gICAgICAgIGZyb206IHN0YXJ0U3R5bGVzLlRpdGxlLm9wYWNpdHksXG4gICAgICAgIHRvOiBlbmRTdHlsZXMuVGl0bGUub3BhY2l0eSxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEsXG4gICAgICB9LFxuICAgICAgbGVmdDoge1xuICAgICAgICB0eXBlOiAnbGluZWFyJyxcbiAgICAgICAgZnJvbTogc3RhcnRTdHlsZXMuVGl0bGUubGVmdCxcbiAgICAgICAgdG86IGVuZFN0eWxlcy5UaXRsZS5sZWZ0LFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMSxcbiAgICAgICAgZXh0cmFwb2xhdGU6IHRydWUsXG4gICAgICB9LFxuICAgIH0pLFxuICAgIExlZnRCdXR0b246IGJ1aWxkU3R5bGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgb3BhY2l0eToge1xuICAgICAgICB0eXBlOiAnbGluZWFyJyxcbiAgICAgICAgZnJvbTogc3RhcnRTdHlsZXMuTGVmdEJ1dHRvbi5vcGFjaXR5LFxuICAgICAgICB0bzogZW5kU3R5bGVzLkxlZnRCdXR0b24ub3BhY2l0eSxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEsXG4gICAgICAgIHJvdW5kOiBvcGFjaXR5UmF0aW8sXG4gICAgICB9LFxuICAgICAgbGVmdDoge1xuICAgICAgICB0eXBlOiAnbGluZWFyJyxcbiAgICAgICAgZnJvbTogc3RhcnRTdHlsZXMuTGVmdEJ1dHRvbi5sZWZ0LFxuICAgICAgICB0bzogZW5kU3R5bGVzLkxlZnRCdXR0b24ubGVmdCxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEsXG4gICAgICB9LFxuICAgIH0pLFxuICAgIFJpZ2h0QnV0dG9uOiBidWlsZFN0eWxlSW50ZXJwb2xhdG9yKHtcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdHlwZTogJ2xpbmVhcicsXG4gICAgICAgIGZyb206IHN0YXJ0U3R5bGVzLlJpZ2h0QnV0dG9uLm9wYWNpdHksXG4gICAgICAgIHRvOiBlbmRTdHlsZXMuUmlnaHRCdXR0b24ub3BhY2l0eSxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEsXG4gICAgICAgIHJvdW5kOiBvcGFjaXR5UmF0aW8sXG4gICAgICB9LFxuICAgICAgbGVmdDoge1xuICAgICAgICB0eXBlOiAnbGluZWFyJyxcbiAgICAgICAgZnJvbTogc3RhcnRTdHlsZXMuUmlnaHRCdXR0b24ubGVmdCxcbiAgICAgICAgdG86IGVuZFN0eWxlcy5SaWdodEJ1dHRvbi5sZWZ0LFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMSxcbiAgICAgICAgZXh0cmFwb2xhdGU6IHRydWUsXG4gICAgICB9LFxuICAgIH0pLFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRTdHlsZXMgKCkge1xuICBjb25zdCBzY3JlZW5XaWR0aCA9IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKS53aWR0aFxuICBpZiAoIWNhY2hlc1tzY3JlZW5XaWR0aF0pIHtcbiAgICBjYWNoZXNbc2NyZWVuV2lkdGhdID0gY2FsY1N0eWxlcyhzY3JlZW5XaWR0aClcbiAgfVxuXG4gIHJldHVybiBjYWNoZXNbc2NyZWVuV2lkdGhdXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBHZW5lcmFsOiB7XG4gICAgTmF2QmFySGVpZ2h0OiBOQVZfQkFSX0hFSUdIVCxcbiAgICBTdGF0dXNCYXJIZWlnaHQ6IFNUQVRVU19CQVJfSEVJR0hULFxuICAgIFRvdGFsTmF2SGVpZ2h0OiBOQVZfSEVJR0hULFxuICB9LFxuICBnZXQgSW50ZXJwb2xhdG9ycygpIHtcbiAgICByZXR1cm4gZ2V0U3R5bGVzKCkuSW50ZXJwb2xhdG9yc1xuICB9LFxuICBnZXQgU3RhZ2VzKCkge1xuICAgIHJldHVybiBnZXRTdHlsZXMoKS5TdGFnZXNcbiAgfSxcbn07XG4iXX0=