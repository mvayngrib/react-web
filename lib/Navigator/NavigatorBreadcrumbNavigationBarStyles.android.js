








'use strict';

var _ReactNavigatorNavigationBarStylesAndroid=require('./NavigatorNavigationBarStylesAndroid');var _ReactNavigatorNavigationBarStylesAndroid2=_interopRequireDefault(_ReactNavigatorNavigationBarStylesAndroid);
var _buildStyleInterpolator=require('./polyfills/buildStyleInterpolator');var _buildStyleInterpolator2=_interopRequireDefault(_buildStyleInterpolator);
var _merge=require('./polyfills/merge');var _merge2=_interopRequireDefault(_merge);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}

var NAV_BAR_HEIGHT=_ReactNavigatorNavigationBarStylesAndroid2.default.General.NavBarHeight;

var SPACING=8;
var ICON_WIDTH=40;
var SEPARATOR_WIDTH=9;
var CRUMB_WIDTH=ICON_WIDTH+SEPARATOR_WIDTH;
var NAV_ELEMENT_HEIGHT=NAV_BAR_HEIGHT;

var OPACITY_RATIO=100;
var ICON_INACTIVE_OPACITY=0.6;
var MAX_BREADCRUMBS=10;

var CRUMB_BASE={
position:'absolute',
flexDirection:'row',
top:0,
width:CRUMB_WIDTH,
height:NAV_ELEMENT_HEIGHT,
backgroundColor:'transparent'};


var ICON_BASE={
width:ICON_WIDTH,
height:NAV_ELEMENT_HEIGHT};


var SEPARATOR_BASE={
width:SEPARATOR_WIDTH,
height:NAV_ELEMENT_HEIGHT};


var TITLE_BASE={
position:'absolute',
top:0,
height:NAV_ELEMENT_HEIGHT,
backgroundColor:'transparent',
alignItems:'flex-start'};


var FIRST_TITLE_BASE=(0,_merge2.default)(TITLE_BASE,{
left:0,
right:0});


var RIGHT_BUTTON_BASE={
position:'absolute',
top:0,
right:0,
overflow:'hidden',
opacity:1,
height:NAV_ELEMENT_HEIGHT,
backgroundColor:'transparent'};






var LEFT=[];
var CENTER=[];
var RIGHT=[];
for(var i=0;i<MAX_BREADCRUMBS;i++){
var crumbLeft=CRUMB_WIDTH*i+SPACING;
LEFT[i]={
Crumb:(0,_merge2.default)(CRUMB_BASE,{left:crumbLeft}),
Icon:(0,_merge2.default)(ICON_BASE,{opacity:ICON_INACTIVE_OPACITY}),
Separator:(0,_merge2.default)(SEPARATOR_BASE,{opacity:1}),
Title:(0,_merge2.default)(TITLE_BASE,{left:crumbLeft,opacity:0}),
RightItem:(0,_merge2.default)(RIGHT_BUTTON_BASE,{opacity:0})};

CENTER[i]={
Crumb:(0,_merge2.default)(CRUMB_BASE,{left:crumbLeft}),
Icon:(0,_merge2.default)(ICON_BASE,{opacity:1}),
Separator:(0,_merge2.default)(SEPARATOR_BASE,{opacity:0}),
Title:(0,_merge2.default)(TITLE_BASE,{
left:crumbLeft+ICON_WIDTH,
opacity:1}),

RightItem:(0,_merge2.default)(RIGHT_BUTTON_BASE,{opacity:1})};

var crumbRight=crumbLeft+50;
RIGHT[i]={
Crumb:(0,_merge2.default)(CRUMB_BASE,{left:crumbRight}),
Icon:(0,_merge2.default)(ICON_BASE,{opacity:0}),
Separator:(0,_merge2.default)(SEPARATOR_BASE,{opacity:0}),
Title:(0,_merge2.default)(TITLE_BASE,{
left:crumbRight+ICON_WIDTH,
opacity:0}),

RightItem:(0,_merge2.default)(RIGHT_BUTTON_BASE,{opacity:0})};

}


CENTER[0]={
Crumb:(0,_merge2.default)(CRUMB_BASE,{left:SPACING+CRUMB_WIDTH}),
Icon:(0,_merge2.default)(ICON_BASE,{opacity:0}),
Separator:(0,_merge2.default)(SEPARATOR_BASE,{opacity:0}),
Title:(0,_merge2.default)(FIRST_TITLE_BASE,{opacity:1}),
RightItem:CENTER[0].RightItem};

LEFT[0].Title=(0,_merge2.default)(FIRST_TITLE_BASE,{opacity:0});
RIGHT[0].Title=(0,_merge2.default)(FIRST_TITLE_BASE,{opacity:0});


var buildIndexSceneInterpolator=function buildIndexSceneInterpolator(startStyles,endStyles){
return{
Crumb:(0,_buildStyleInterpolator2.default)({
left:{
type:'linear',
from:startStyles.Crumb.left,
to:endStyles.Crumb.left,
min:0,
max:1,
extrapolate:true}}),


Icon:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.Icon.opacity,
to:endStyles.Icon.opacity,
min:0,
max:1}}),


Separator:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.Separator.opacity,
to:endStyles.Separator.opacity,
min:0,
max:1}}),


Title:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.Title.opacity,
to:endStyles.Title.opacity,
min:0,
max:1},

left:{
type:'linear',
from:startStyles.Title.left,
to:endStyles.Title.left,
min:0,
max:1,
extrapolate:true}}),


RightItem:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.RightItem.opacity,
to:endStyles.RightItem.opacity,
min:0,
max:1,
round:OPACITY_RATIO}})};



};

var Interpolators=CENTER.map(function(_,ii){
return{

RightToCenter:buildIndexSceneInterpolator(RIGHT[ii],CENTER[ii]),

CenterToLeft:buildIndexSceneInterpolator(CENTER[ii],LEFT[ii]),

RightToLeft:buildIndexSceneInterpolator(RIGHT[ii],LEFT[ii])};

});





module.exports={
Interpolators:Interpolators,
Left:LEFT,
Center:CENTER,
Right:RIGHT,
IconWidth:ICON_WIDTH,
IconHeight:NAV_BAR_HEIGHT,
SeparatorWidth:SEPARATOR_WIDTH,
SeparatorHeight:NAV_BAR_HEIGHT};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5hdmlnYXRvckJyZWFkY3J1bWJOYXZpZ2F0aW9uQmFyU3R5bGVzLmFuZHJvaWQuanMiXSwibmFtZXMiOlsiTkFWX0JBUl9IRUlHSFQiLCJHZW5lcmFsIiwiTmF2QmFySGVpZ2h0IiwiU1BBQ0lORyIsIklDT05fV0lEVEgiLCJTRVBBUkFUT1JfV0lEVEgiLCJDUlVNQl9XSURUSCIsIk5BVl9FTEVNRU5UX0hFSUdIVCIsIk9QQUNJVFlfUkFUSU8iLCJJQ09OX0lOQUNUSVZFX09QQUNJVFkiLCJNQVhfQlJFQURDUlVNQlMiLCJDUlVNQl9CQVNFIiwicG9zaXRpb24iLCJmbGV4RGlyZWN0aW9uIiwidG9wIiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJJQ09OX0JBU0UiLCJTRVBBUkFUT1JfQkFTRSIsIlRJVExFX0JBU0UiLCJhbGlnbkl0ZW1zIiwiRklSU1RfVElUTEVfQkFTRSIsImxlZnQiLCJyaWdodCIsIlJJR0hUX0JVVFRPTl9CQVNFIiwib3ZlcmZsb3ciLCJvcGFjaXR5IiwiTEVGVCIsIkNFTlRFUiIsIlJJR0hUIiwiaSIsImNydW1iTGVmdCIsIkNydW1iIiwiSWNvbiIsIlNlcGFyYXRvciIsIlRpdGxlIiwiUmlnaHRJdGVtIiwiY3J1bWJSaWdodCIsImJ1aWxkSW5kZXhTY2VuZUludGVycG9sYXRvciIsInN0YXJ0U3R5bGVzIiwiZW5kU3R5bGVzIiwidHlwZSIsImZyb20iLCJ0byIsIm1pbiIsIm1heCIsImV4dHJhcG9sYXRlIiwicm91bmQiLCJJbnRlcnBvbGF0b3JzIiwibWFwIiwiXyIsImlpIiwiUmlnaHRUb0NlbnRlciIsIkNlbnRlclRvTGVmdCIsIlJpZ2h0VG9MZWZ0IiwibW9kdWxlIiwiZXhwb3J0cyIsIkxlZnQiLCJDZW50ZXIiLCJSaWdodCIsIkljb25XaWR0aCIsIkljb25IZWlnaHQiLCJTZXBhcmF0b3JXaWR0aCIsIlNlcGFyYXRvckhlaWdodCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBU0E7O0FBRUEsK0Y7QUFDQSwwRTtBQUNBLHdDOztBQUVBLEdBQUlBLGdCQUFpQixtREFBb0NDLE9BQXBDLENBQTRDQyxZQUFqRTs7QUFFQSxHQUFJQyxTQUFVLENBQWQ7QUFDQSxHQUFJQyxZQUFhLEVBQWpCO0FBQ0EsR0FBSUMsaUJBQWtCLENBQXRCO0FBQ0EsR0FBSUMsYUFBY0YsV0FBYUMsZUFBL0I7QUFDQSxHQUFJRSxvQkFBcUJQLGNBQXpCOztBQUVBLEdBQUlRLGVBQWdCLEdBQXBCO0FBQ0EsR0FBSUMsdUJBQXdCLEdBQTVCO0FBQ0EsR0FBSUMsaUJBQWtCLEVBQXRCOztBQUVBLEdBQUlDLFlBQWE7QUFDZkMsU0FBVSxVQURLO0FBRWZDLGNBQWUsS0FGQTtBQUdmQyxJQUFLLENBSFU7QUFJZkMsTUFBT1QsV0FKUTtBQUtmVSxPQUFRVCxrQkFMTztBQU1mVSxnQkFBaUIsYUFORixDQUFqQjs7O0FBU0EsR0FBSUMsV0FBWTtBQUNkSCxNQUFPWCxVQURPO0FBRWRZLE9BQVFULGtCQUZNLENBQWhCOzs7QUFLQSxHQUFJWSxnQkFBaUI7QUFDbkJKLE1BQU9WLGVBRFk7QUFFbkJXLE9BQVFULGtCQUZXLENBQXJCOzs7QUFLQSxHQUFJYSxZQUFhO0FBQ2ZSLFNBQVUsVUFESztBQUVmRSxJQUFLLENBRlU7QUFHZkUsT0FBUVQsa0JBSE87QUFJZlUsZ0JBQWlCLGFBSkY7QUFLZkksV0FBWSxZQUxHLENBQWpCOzs7QUFRQSxHQUFJQyxrQkFBbUIsb0JBQU1GLFVBQU4sQ0FBa0I7QUFDdkNHLEtBQU0sQ0FEaUM7QUFFdkNDLE1BQU8sQ0FGZ0MsQ0FBbEIsQ0FBdkI7OztBQUtBLEdBQUlDLG1CQUFvQjtBQUN0QmIsU0FBVSxVQURZO0FBRXRCRSxJQUFLLENBRmlCO0FBR3RCVSxNQUFPLENBSGU7QUFJdEJFLFNBQVUsUUFKWTtBQUt0QkMsUUFBUyxDQUxhO0FBTXRCWCxPQUFRVCxrQkFOYztBQU90QlUsZ0JBQWlCLGFBUEssQ0FBeEI7Ozs7Ozs7QUFjQSxHQUFJVyxNQUFPLEVBQVg7QUFDQSxHQUFJQyxRQUFTLEVBQWI7QUFDQSxHQUFJQyxPQUFRLEVBQVo7QUFDQSxJQUFLLEdBQUlDLEdBQUksQ0FBYixDQUFnQkEsRUFBSXJCLGVBQXBCLENBQXFDcUIsR0FBckMsQ0FBMEM7QUFDeEMsR0FBSUMsV0FBWTFCLFlBQWN5QixDQUFkLENBQWtCNUIsT0FBbEM7QUFDQXlCLEtBQUtHLENBQUwsRUFBVTtBQUNSRSxNQUFPLG9CQUFNdEIsVUFBTixDQUFrQixDQUFFWSxLQUFNUyxTQUFSLENBQWxCLENBREM7QUFFUkUsS0FBTSxvQkFBTWhCLFNBQU4sQ0FBaUIsQ0FBRVMsUUFBU2xCLHFCQUFYLENBQWpCLENBRkU7QUFHUjBCLFVBQVcsb0JBQU1oQixjQUFOLENBQXNCLENBQUVRLFFBQVMsQ0FBWCxDQUF0QixDQUhIO0FBSVJTLE1BQU8sb0JBQU1oQixVQUFOLENBQWtCLENBQUVHLEtBQU1TLFNBQVIsQ0FBbUJMLFFBQVMsQ0FBNUIsQ0FBbEIsQ0FKQztBQUtSVSxVQUFXLG9CQUFNWixpQkFBTixDQUF5QixDQUFFRSxRQUFTLENBQVgsQ0FBekIsQ0FMSCxDQUFWOztBQU9BRSxPQUFPRSxDQUFQLEVBQVk7QUFDVkUsTUFBTyxvQkFBTXRCLFVBQU4sQ0FBa0IsQ0FBRVksS0FBTVMsU0FBUixDQUFsQixDQURHO0FBRVZFLEtBQU0sb0JBQU1oQixTQUFOLENBQWlCLENBQUVTLFFBQVMsQ0FBWCxDQUFqQixDQUZJO0FBR1ZRLFVBQVcsb0JBQU1oQixjQUFOLENBQXNCLENBQUVRLFFBQVMsQ0FBWCxDQUF0QixDQUhEO0FBSVZTLE1BQU8sb0JBQU1oQixVQUFOLENBQWtCO0FBQ3ZCRyxLQUFNUyxVQUFZNUIsVUFESztBQUV2QnVCLFFBQVMsQ0FGYyxDQUFsQixDQUpHOztBQVFWVSxVQUFXLG9CQUFNWixpQkFBTixDQUF5QixDQUFFRSxRQUFTLENBQVgsQ0FBekIsQ0FSRCxDQUFaOztBQVVBLEdBQUlXLFlBQWFOLFVBQVksRUFBN0I7QUFDQUYsTUFBTUMsQ0FBTixFQUFXO0FBQ1RFLE1BQU8sb0JBQU10QixVQUFOLENBQWtCLENBQUVZLEtBQU1lLFVBQVIsQ0FBbEIsQ0FERTtBQUVUSixLQUFNLG9CQUFNaEIsU0FBTixDQUFpQixDQUFFUyxRQUFTLENBQVgsQ0FBakIsQ0FGRztBQUdUUSxVQUFXLG9CQUFNaEIsY0FBTixDQUFzQixDQUFFUSxRQUFTLENBQVgsQ0FBdEIsQ0FIRjtBQUlUUyxNQUFPLG9CQUFNaEIsVUFBTixDQUFrQjtBQUN2QkcsS0FBTWUsV0FBYWxDLFVBREk7QUFFdkJ1QixRQUFTLENBRmMsQ0FBbEIsQ0FKRTs7QUFRVFUsVUFBVyxvQkFBTVosaUJBQU4sQ0FBeUIsQ0FBRUUsUUFBUyxDQUFYLENBQXpCLENBUkYsQ0FBWDs7QUFVRDs7O0FBR0RFLE9BQU8sQ0FBUCxFQUFZO0FBQ1ZJLE1BQU8sb0JBQU10QixVQUFOLENBQWtCLENBQUNZLEtBQU1wQixRQUFVRyxXQUFqQixDQUFsQixDQURHO0FBRVY0QixLQUFNLG9CQUFNaEIsU0FBTixDQUFpQixDQUFDUyxRQUFTLENBQVYsQ0FBakIsQ0FGSTtBQUdWUSxVQUFXLG9CQUFNaEIsY0FBTixDQUFzQixDQUFDUSxRQUFTLENBQVYsQ0FBdEIsQ0FIRDtBQUlWUyxNQUFPLG9CQUFNZCxnQkFBTixDQUF3QixDQUFDSyxRQUFTLENBQVYsQ0FBeEIsQ0FKRztBQUtWVSxVQUFXUixPQUFPLENBQVAsRUFBVVEsU0FMWCxDQUFaOztBQU9BVCxLQUFLLENBQUwsRUFBUVEsS0FBUixDQUFnQixvQkFBTWQsZ0JBQU4sQ0FBd0IsQ0FBQ0ssUUFBUyxDQUFWLENBQXhCLENBQWhCO0FBQ0FHLE1BQU0sQ0FBTixFQUFTTSxLQUFULENBQWlCLG9CQUFNZCxnQkFBTixDQUF3QixDQUFDSyxRQUFTLENBQVYsQ0FBeEIsQ0FBakI7OztBQUdBLEdBQUlZLDZCQUE4QixRQUE5QkEsNEJBQThCLENBQVNDLFdBQVQsQ0FBc0JDLFNBQXRCLENBQWlDO0FBQ2pFLE1BQU87QUFDTFIsTUFBTyxxQ0FBdUI7QUFDNUJWLEtBQU07QUFDSm1CLEtBQU0sUUFERjtBQUVKQyxLQUFNSCxZQUFZUCxLQUFaLENBQWtCVixJQUZwQjtBQUdKcUIsR0FBSUgsVUFBVVIsS0FBVixDQUFnQlYsSUFIaEI7QUFJSnNCLElBQUssQ0FKRDtBQUtKQyxJQUFLLENBTEQ7QUFNSkMsWUFBYSxJQU5ULENBRHNCLENBQXZCLENBREY7OztBQVdMYixLQUFNLHFDQUF1QjtBQUMzQlAsUUFBUztBQUNQZSxLQUFNLFFBREM7QUFFUEMsS0FBTUgsWUFBWU4sSUFBWixDQUFpQlAsT0FGaEI7QUFHUGlCLEdBQUlILFVBQVVQLElBQVYsQ0FBZVAsT0FIWjtBQUlQa0IsSUFBSyxDQUpFO0FBS1BDLElBQUssQ0FMRSxDQURrQixDQUF2QixDQVhEOzs7QUFvQkxYLFVBQVcscUNBQXVCO0FBQ2hDUixRQUFTO0FBQ1BlLEtBQU0sUUFEQztBQUVQQyxLQUFNSCxZQUFZTCxTQUFaLENBQXNCUixPQUZyQjtBQUdQaUIsR0FBSUgsVUFBVU4sU0FBVixDQUFvQlIsT0FIakI7QUFJUGtCLElBQUssQ0FKRTtBQUtQQyxJQUFLLENBTEUsQ0FEdUIsQ0FBdkIsQ0FwQk47OztBQTZCTFYsTUFBTyxxQ0FBdUI7QUFDNUJULFFBQVM7QUFDUGUsS0FBTSxRQURDO0FBRVBDLEtBQU1ILFlBQVlKLEtBQVosQ0FBa0JULE9BRmpCO0FBR1BpQixHQUFJSCxVQUFVTCxLQUFWLENBQWdCVCxPQUhiO0FBSVBrQixJQUFLLENBSkU7QUFLUEMsSUFBSyxDQUxFLENBRG1COztBQVE1QnZCLEtBQU07QUFDSm1CLEtBQU0sUUFERjtBQUVKQyxLQUFNSCxZQUFZSixLQUFaLENBQWtCYixJQUZwQjtBQUdKcUIsR0FBSUgsVUFBVUwsS0FBVixDQUFnQmIsSUFIaEI7QUFJSnNCLElBQUssQ0FKRDtBQUtKQyxJQUFLLENBTEQ7QUFNSkMsWUFBYSxJQU5ULENBUnNCLENBQXZCLENBN0JGOzs7QUE4Q0xWLFVBQVcscUNBQXVCO0FBQ2hDVixRQUFTO0FBQ1BlLEtBQU0sUUFEQztBQUVQQyxLQUFNSCxZQUFZSCxTQUFaLENBQXNCVixPQUZyQjtBQUdQaUIsR0FBSUgsVUFBVUosU0FBVixDQUFvQlYsT0FIakI7QUFJUGtCLElBQUssQ0FKRTtBQUtQQyxJQUFLLENBTEU7QUFNUEUsTUFBT3hDLGFBTkEsQ0FEdUIsQ0FBdkIsQ0E5Q04sQ0FBUDs7OztBQXlERCxDQTFERDs7QUE0REEsR0FBSXlDLGVBQWdCcEIsT0FBT3FCLEdBQVAsQ0FBVyxTQUFTQyxDQUFULENBQVlDLEVBQVosQ0FBZ0I7QUFDN0MsTUFBTzs7QUFFTEMsY0FBZWQsNEJBQTRCVCxNQUFNc0IsRUFBTixDQUE1QixDQUF1Q3ZCLE9BQU91QixFQUFQLENBQXZDLENBRlY7O0FBSUxFLGFBQWNmLDRCQUE0QlYsT0FBT3VCLEVBQVAsQ0FBNUIsQ0FBd0N4QixLQUFLd0IsRUFBTCxDQUF4QyxDQUpUOztBQU1MRyxZQUFhaEIsNEJBQTRCVCxNQUFNc0IsRUFBTixDQUE1QixDQUF1Q3hCLEtBQUt3QixFQUFMLENBQXZDLENBTlIsQ0FBUDs7QUFRRCxDQVRtQixDQUFwQjs7Ozs7O0FBZUFJLE9BQU9DLE9BQVAsQ0FBaUI7QUFDZlIsMkJBRGU7QUFFZlMsS0FBTTlCLElBRlM7QUFHZitCLE9BQVE5QixNQUhPO0FBSWYrQixNQUFPOUIsS0FKUTtBQUtmK0IsVUFBV3pELFVBTEk7QUFNZjBELFdBQVk5RCxjQU5HO0FBT2YrRCxlQUFnQjFELGVBUEQ7QUFRZjJELGdCQUFpQmhFLGNBUkYsQ0FBakIiLCJmaWxlIjoiTmF2aWdhdG9yQnJlYWRjcnVtYk5hdmlnYXRpb25CYXJTdHlsZXMuYW5kcm9pZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0TmF2aWdhdG9yQnJlYWRjcnVtYk5hdmlnYXRpb25CYXJTdHlsZXNcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgTmF2aWdhdG9yTmF2aWdhdGlvbkJhclN0eWxlc0FuZHJvaWQgZnJvbSAnUmVhY3ROYXZpZ2F0b3JOYXZpZ2F0aW9uQmFyU3R5bGVzQW5kcm9pZCc7XG5pbXBvcnQgYnVpbGRTdHlsZUludGVycG9sYXRvciBmcm9tICcuL3BvbHlmaWxscy9idWlsZFN0eWxlSW50ZXJwb2xhdG9yJztcbmltcG9ydCBtZXJnZSBmcm9tICcuL3BvbHlmaWxscy9tZXJnZSc7XG5cbnZhciBOQVZfQkFSX0hFSUdIVCA9IE5hdmlnYXRvck5hdmlnYXRpb25CYXJTdHlsZXNBbmRyb2lkLkdlbmVyYWwuTmF2QmFySGVpZ2h0O1xuXG52YXIgU1BBQ0lORyA9IDg7XG52YXIgSUNPTl9XSURUSCA9IDQwO1xudmFyIFNFUEFSQVRPUl9XSURUSCA9IDk7XG52YXIgQ1JVTUJfV0lEVEggPSBJQ09OX1dJRFRIICsgU0VQQVJBVE9SX1dJRFRIO1xudmFyIE5BVl9FTEVNRU5UX0hFSUdIVCA9IE5BVl9CQVJfSEVJR0hUO1xuXG52YXIgT1BBQ0lUWV9SQVRJTyA9IDEwMDtcbnZhciBJQ09OX0lOQUNUSVZFX09QQUNJVFkgPSAwLjY7XG52YXIgTUFYX0JSRUFEQ1JVTUJTID0gMTA7XG5cbnZhciBDUlVNQl9CQVNFID0ge1xuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIHRvcDogMCxcbiAgd2lkdGg6IENSVU1CX1dJRFRILFxuICBoZWlnaHQ6IE5BVl9FTEVNRU5UX0hFSUdIVCxcbiAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxufTtcblxudmFyIElDT05fQkFTRSA9IHtcbiAgd2lkdGg6IElDT05fV0lEVEgsXG4gIGhlaWdodDogTkFWX0VMRU1FTlRfSEVJR0hULFxufTtcblxudmFyIFNFUEFSQVRPUl9CQVNFID0ge1xuICB3aWR0aDogU0VQQVJBVE9SX1dJRFRILFxuICBoZWlnaHQ6IE5BVl9FTEVNRU5UX0hFSUdIVCxcbn07XG5cbnZhciBUSVRMRV9CQVNFID0ge1xuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgdG9wOiAwLFxuICBoZWlnaHQ6IE5BVl9FTEVNRU5UX0hFSUdIVCxcbiAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcsXG59O1xuXG52YXIgRklSU1RfVElUTEVfQkFTRSA9IG1lcmdlKFRJVExFX0JBU0UsIHtcbiAgbGVmdDogMCxcbiAgcmlnaHQ6IDAsXG59KTtcblxudmFyIFJJR0hUX0JVVFRPTl9CQVNFID0ge1xuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgdG9wOiAwLFxuICByaWdodDogMCxcbiAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICBvcGFjaXR5OiAxLFxuICBoZWlnaHQ6IE5BVl9FTEVNRU5UX0hFSUdIVCxcbiAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxufTtcblxuLyoqXG4gKiBQcmVjb21wdXRlIGNydW1iIHN0eWxlcyBzbyB0aGF0IHRoZXkgZG9uJ3QgbmVlZCB0byBiZSByZWNvbXB1dGVkIG9uIGV2ZXJ5XG4gKiBpbnRlcmFjdGlvbi5cbiAqL1xudmFyIExFRlQgPSBbXTtcbnZhciBDRU5URVIgPSBbXTtcbnZhciBSSUdIVCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCBNQVhfQlJFQURDUlVNQlM7IGkrKykge1xuICB2YXIgY3J1bWJMZWZ0ID0gQ1JVTUJfV0lEVEggKiBpICsgU1BBQ0lORztcbiAgTEVGVFtpXSA9IHtcbiAgICBDcnVtYjogbWVyZ2UoQ1JVTUJfQkFTRSwgeyBsZWZ0OiBjcnVtYkxlZnQgfSksXG4gICAgSWNvbjogbWVyZ2UoSUNPTl9CQVNFLCB7IG9wYWNpdHk6IElDT05fSU5BQ1RJVkVfT1BBQ0lUWSB9KSxcbiAgICBTZXBhcmF0b3I6IG1lcmdlKFNFUEFSQVRPUl9CQVNFLCB7IG9wYWNpdHk6IDEgfSksXG4gICAgVGl0bGU6IG1lcmdlKFRJVExFX0JBU0UsIHsgbGVmdDogY3J1bWJMZWZ0LCBvcGFjaXR5OiAwIH0pLFxuICAgIFJpZ2h0SXRlbTogbWVyZ2UoUklHSFRfQlVUVE9OX0JBU0UsIHsgb3BhY2l0eTogMCB9KSxcbiAgfTtcbiAgQ0VOVEVSW2ldID0ge1xuICAgIENydW1iOiBtZXJnZShDUlVNQl9CQVNFLCB7IGxlZnQ6IGNydW1iTGVmdCB9KSxcbiAgICBJY29uOiBtZXJnZShJQ09OX0JBU0UsIHsgb3BhY2l0eTogMSB9KSxcbiAgICBTZXBhcmF0b3I6IG1lcmdlKFNFUEFSQVRPUl9CQVNFLCB7IG9wYWNpdHk6IDAgfSksXG4gICAgVGl0bGU6IG1lcmdlKFRJVExFX0JBU0UsIHtcbiAgICAgIGxlZnQ6IGNydW1iTGVmdCArIElDT05fV0lEVEgsXG4gICAgICBvcGFjaXR5OiAxLFxuICAgIH0pLFxuICAgIFJpZ2h0SXRlbTogbWVyZ2UoUklHSFRfQlVUVE9OX0JBU0UsIHsgb3BhY2l0eTogMSB9KSxcbiAgfTtcbiAgdmFyIGNydW1iUmlnaHQgPSBjcnVtYkxlZnQgKyA1MDtcbiAgUklHSFRbaV0gPSB7XG4gICAgQ3J1bWI6IG1lcmdlKENSVU1CX0JBU0UsIHsgbGVmdDogY3J1bWJSaWdodH0pLFxuICAgIEljb246IG1lcmdlKElDT05fQkFTRSwgeyBvcGFjaXR5OiAwIH0pLFxuICAgIFNlcGFyYXRvcjogbWVyZ2UoU0VQQVJBVE9SX0JBU0UsIHsgb3BhY2l0eTogMCB9KSxcbiAgICBUaXRsZTogbWVyZ2UoVElUTEVfQkFTRSwge1xuICAgICAgbGVmdDogY3J1bWJSaWdodCArIElDT05fV0lEVEgsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgIH0pLFxuICAgIFJpZ2h0SXRlbTogbWVyZ2UoUklHSFRfQlVUVE9OX0JBU0UsIHsgb3BhY2l0eTogMCB9KSxcbiAgfTtcbn1cblxuLy8gU3BlY2lhbCBjYXNlIHRoZSBDRU5URVIgc3RhdGUgb2YgdGhlIGZpcnN0IHNjZW5lLlxuQ0VOVEVSWzBdID0ge1xuICBDcnVtYjogbWVyZ2UoQ1JVTUJfQkFTRSwge2xlZnQ6IFNQQUNJTkcgKyBDUlVNQl9XSURUSH0pLFxuICBJY29uOiBtZXJnZShJQ09OX0JBU0UsIHtvcGFjaXR5OiAwfSksXG4gIFNlcGFyYXRvcjogbWVyZ2UoU0VQQVJBVE9SX0JBU0UsIHtvcGFjaXR5OiAwfSksXG4gIFRpdGxlOiBtZXJnZShGSVJTVF9USVRMRV9CQVNFLCB7b3BhY2l0eTogMX0pLFxuICBSaWdodEl0ZW06IENFTlRFUlswXS5SaWdodEl0ZW0sXG59O1xuTEVGVFswXS5UaXRsZSA9IG1lcmdlKEZJUlNUX1RJVExFX0JBU0UsIHtvcGFjaXR5OiAwfSk7XG5SSUdIVFswXS5UaXRsZSA9IG1lcmdlKEZJUlNUX1RJVExFX0JBU0UsIHtvcGFjaXR5OiAwfSk7XG5cblxudmFyIGJ1aWxkSW5kZXhTY2VuZUludGVycG9sYXRvciA9IGZ1bmN0aW9uKHN0YXJ0U3R5bGVzLCBlbmRTdHlsZXMpIHtcbiAgcmV0dXJuIHtcbiAgICBDcnVtYjogYnVpbGRTdHlsZUludGVycG9sYXRvcih7XG4gICAgICBsZWZ0OiB7XG4gICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAgICBmcm9tOiBzdGFydFN0eWxlcy5DcnVtYi5sZWZ0LFxuICAgICAgICB0bzogZW5kU3R5bGVzLkNydW1iLmxlZnQsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxLFxuICAgICAgICBleHRyYXBvbGF0ZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgSWNvbjogYnVpbGRTdHlsZUludGVycG9sYXRvcih7XG4gICAgICBvcGFjaXR5OiB7XG4gICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAgICBmcm9tOiBzdGFydFN0eWxlcy5JY29uLm9wYWNpdHksXG4gICAgICAgIHRvOiBlbmRTdHlsZXMuSWNvbi5vcGFjaXR5LFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgU2VwYXJhdG9yOiBidWlsZFN0eWxlSW50ZXJwb2xhdG9yKHtcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdHlwZTogJ2xpbmVhcicsXG4gICAgICAgIGZyb206IHN0YXJ0U3R5bGVzLlNlcGFyYXRvci5vcGFjaXR5LFxuICAgICAgICB0bzogZW5kU3R5bGVzLlNlcGFyYXRvci5vcGFjaXR5LFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgVGl0bGU6IGJ1aWxkU3R5bGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgb3BhY2l0eToge1xuICAgICAgICB0eXBlOiAnbGluZWFyJyxcbiAgICAgICAgZnJvbTogc3RhcnRTdHlsZXMuVGl0bGUub3BhY2l0eSxcbiAgICAgICAgdG86IGVuZFN0eWxlcy5UaXRsZS5vcGFjaXR5LFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMSxcbiAgICAgIH0sXG4gICAgICBsZWZ0OiB7XG4gICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAgICBmcm9tOiBzdGFydFN0eWxlcy5UaXRsZS5sZWZ0LFxuICAgICAgICB0bzogZW5kU3R5bGVzLlRpdGxlLmxlZnQsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxLFxuICAgICAgICBleHRyYXBvbGF0ZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgUmlnaHRJdGVtOiBidWlsZFN0eWxlSW50ZXJwb2xhdG9yKHtcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdHlwZTogJ2xpbmVhcicsXG4gICAgICAgIGZyb206IHN0YXJ0U3R5bGVzLlJpZ2h0SXRlbS5vcGFjaXR5LFxuICAgICAgICB0bzogZW5kU3R5bGVzLlJpZ2h0SXRlbS5vcGFjaXR5LFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMSxcbiAgICAgICAgcm91bmQ6IE9QQUNJVFlfUkFUSU8sXG4gICAgICB9LFxuICAgIH0pLFxuICB9O1xufTtcblxudmFyIEludGVycG9sYXRvcnMgPSBDRU5URVIubWFwKGZ1bmN0aW9uKF8sIGlpKSB7XG4gIHJldHVybiB7XG4gICAgLy8gQW5pbWF0aW5nICppbnRvKiB0aGUgY2VudGVyIHN0YWdlIGZyb20gdGhlIHJpZ2h0XG4gICAgUmlnaHRUb0NlbnRlcjogYnVpbGRJbmRleFNjZW5lSW50ZXJwb2xhdG9yKFJJR0hUW2lpXSwgQ0VOVEVSW2lpXSksXG4gICAgLy8gQW5pbWF0aW5nIG91dCBvZiB0aGUgY2VudGVyIHN0YWdlLCB0byB0aGUgbGVmdFxuICAgIENlbnRlclRvTGVmdDogYnVpbGRJbmRleFNjZW5lSW50ZXJwb2xhdG9yKENFTlRFUltpaV0sIExFRlRbaWldKSxcbiAgICAvLyBCb3RoIHN0YWdlcyAoYW5pbWF0aW5nICpwYXN0KiB0aGUgY2VudGVyIHN0YWdlKVxuICAgIFJpZ2h0VG9MZWZ0OiBidWlsZEluZGV4U2NlbmVJbnRlcnBvbGF0b3IoUklHSFRbaWldLCBMRUZUW2lpXSksXG4gIH07XG59KTtcblxuLyoqXG4gKiBDb250YWlucyBjb25zdGFudHMgdGhhdCBhcmUgdXNlZCBpbiBjb25zdHJ1Y3RpbmcgYm90aCBgU3R5bGVTaGVldGBzIGFuZFxuICogaW5saW5lIHN0eWxlcyBkdXJpbmcgdHJhbnNpdGlvbnMuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICBJbnRlcnBvbGF0b3JzLFxuICBMZWZ0OiBMRUZULFxuICBDZW50ZXI6IENFTlRFUixcbiAgUmlnaHQ6IFJJR0hULFxuICBJY29uV2lkdGg6IElDT05fV0lEVEgsXG4gIEljb25IZWlnaHQ6IE5BVl9CQVJfSEVJR0hULFxuICBTZXBhcmF0b3JXaWR0aDogU0VQQVJBVE9SX1dJRFRILFxuICBTZXBhcmF0b3JIZWlnaHQ6IE5BVl9CQVJfSEVJR0hULFxufTtcbiJdfQ==