








'use strict';

var _ReactDimensions=require('../Dimensions/Dimensions.web');var _ReactDimensions2=_interopRequireDefault(_ReactDimensions);
var _ReactNavigatorNavigationBarStylesIOS=require('./NavigatorNavigationBarStylesIOS');var _ReactNavigatorNavigationBarStylesIOS2=_interopRequireDefault(_ReactNavigatorNavigationBarStylesIOS);
var _buildStyleInterpolator=require('./polyfills/buildStyleInterpolator');var _buildStyleInterpolator2=_interopRequireDefault(_buildStyleInterpolator);
var _merge=require('./polyfills/merge');var _merge2=_interopRequireDefault(_merge);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}

var SCREEN_WIDTH=_ReactDimensions2.default.get('window').width;
var STATUS_BAR_HEIGHT=_ReactNavigatorNavigationBarStylesIOS2.default.General.StatusBarHeight;
var NAV_BAR_HEIGHT=_ReactNavigatorNavigationBarStylesIOS2.default.General.NavBarHeight;

var SPACING=4;
var ICON_WIDTH=40;
var SEPARATOR_WIDTH=9;
var CRUMB_WIDTH=ICON_WIDTH+SEPARATOR_WIDTH;

var OPACITY_RATIO=100;
var ICON_INACTIVE_OPACITY=0.6;
var MAX_BREADCRUMBS=10;

var CRUMB_BASE={
position:'absolute',
flexDirection:'row',
top:STATUS_BAR_HEIGHT,
width:CRUMB_WIDTH,
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'};


var ICON_BASE={
width:ICON_WIDTH,
height:NAV_BAR_HEIGHT};


var SEPARATOR_BASE={
width:SEPARATOR_WIDTH,
height:NAV_BAR_HEIGHT};


var TITLE_BASE={
position:'absolute',
top:STATUS_BAR_HEIGHT,
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'};



var FIRST_TITLE_BASE=(0,_merge2.default)(TITLE_BASE,{
left:0,
right:0,
alignItems:'center',
height:NAV_BAR_HEIGHT});


var RIGHT_BUTTON_BASE={
position:'absolute',
top:STATUS_BAR_HEIGHT,
right:SPACING,
overflow:'hidden',
opacity:1,
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'};






var LEFT=[];
var CENTER=[];
var RIGHT=[];
for(var i=0;i<MAX_BREADCRUMBS;i++){
var crumbLeft=CRUMB_WIDTH*i+SPACING;
LEFT[i]={
Crumb:(0,_merge2.default)(CRUMB_BASE,{left:crumbLeft}),
Icon:(0,_merge2.default)(ICON_BASE,{opacity:ICON_INACTIVE_OPACITY}),
Separator:(0,_merge2.default)(SEPARATOR_BASE,{opacity:1}),
Title:(0,_merge2.default)(TITLE_BASE,{left:crumbLeft,opacity:0}),
RightItem:(0,_merge2.default)(RIGHT_BUTTON_BASE,{opacity:0})};

CENTER[i]={
Crumb:(0,_merge2.default)(CRUMB_BASE,{left:crumbLeft}),
Icon:(0,_merge2.default)(ICON_BASE,{opacity:1}),
Separator:(0,_merge2.default)(SEPARATOR_BASE,{opacity:0}),
Title:(0,_merge2.default)(TITLE_BASE,{
left:crumbLeft+ICON_WIDTH,
opacity:1}),

RightItem:(0,_merge2.default)(RIGHT_BUTTON_BASE,{opacity:1})};

var crumbRight=SCREEN_WIDTH-100;
RIGHT[i]={
Crumb:(0,_merge2.default)(CRUMB_BASE,{left:crumbRight}),
Icon:(0,_merge2.default)(ICON_BASE,{opacity:0}),
Separator:(0,_merge2.default)(SEPARATOR_BASE,{opacity:0}),
Title:(0,_merge2.default)(TITLE_BASE,{
left:crumbRight+ICON_WIDTH,
opacity:0}),

RightItem:(0,_merge2.default)(RIGHT_BUTTON_BASE,{opacity:0})};

}


CENTER[0]={
Crumb:(0,_merge2.default)(CRUMB_BASE,{left:SCREEN_WIDTH/4}),
Icon:(0,_merge2.default)(ICON_BASE,{opacity:0}),
Separator:(0,_merge2.default)(SEPARATOR_BASE,{opacity:0}),
Title:(0,_merge2.default)(FIRST_TITLE_BASE,{opacity:1}),
RightItem:CENTER[0].RightItem};

LEFT[0].Title=(0,_merge2.default)(FIRST_TITLE_BASE,{left:-SCREEN_WIDTH/4,opacity:0});
RIGHT[0].Title=(0,_merge2.default)(FIRST_TITLE_BASE,{opacity:0});


var buildIndexSceneInterpolator=function buildIndexSceneInterpolator(startStyles,endStyles){
return{
Crumb:(0,_buildStyleInterpolator2.default)({
left:{
type:'linear',
from:startStyles.Crumb.left,
to:endStyles.Crumb.left,
min:0,
max:1,
extrapolate:true}}),


Icon:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.Icon.opacity,
to:endStyles.Icon.opacity,
min:0,
max:1}}),


Separator:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.Separator.opacity,
to:endStyles.Separator.opacity,
min:0,
max:1}}),


Title:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.Title.opacity,
to:endStyles.Title.opacity,
min:0,
max:1},

left:{
type:'linear',
from:startStyles.Title.left,
to:endStyles.Title.left,
min:0,
max:1,
extrapolate:true}}),


RightItem:(0,_buildStyleInterpolator2.default)({
opacity:{
type:'linear',
from:startStyles.RightItem.opacity,
to:endStyles.RightItem.opacity,
min:0,
max:1,
round:OPACITY_RATIO}})};



};

var Interpolators=CENTER.map(function(_,ii){
return{

RightToCenter:buildIndexSceneInterpolator(RIGHT[ii],CENTER[ii]),

CenterToLeft:buildIndexSceneInterpolator(CENTER[ii],LEFT[ii]),

RightToLeft:buildIndexSceneInterpolator(RIGHT[ii],LEFT[ii])};

});





module.exports={
Interpolators:Interpolators,
Left:LEFT,
Center:CENTER,
Right:RIGHT,
IconWidth:ICON_WIDTH,
IconHeight:NAV_BAR_HEIGHT,
SeparatorWidth:SEPARATOR_WIDTH,
SeparatorHeight:NAV_BAR_HEIGHT};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5hdmlnYXRvckJyZWFkY3J1bWJOYXZpZ2F0aW9uQmFyU3R5bGVzLmlvcy5qcyJdLCJuYW1lcyI6WyJTQ1JFRU5fV0lEVEgiLCJnZXQiLCJ3aWR0aCIsIlNUQVRVU19CQVJfSEVJR0hUIiwiR2VuZXJhbCIsIlN0YXR1c0JhckhlaWdodCIsIk5BVl9CQVJfSEVJR0hUIiwiTmF2QmFySGVpZ2h0IiwiU1BBQ0lORyIsIklDT05fV0lEVEgiLCJTRVBBUkFUT1JfV0lEVEgiLCJDUlVNQl9XSURUSCIsIk9QQUNJVFlfUkFUSU8iLCJJQ09OX0lOQUNUSVZFX09QQUNJVFkiLCJNQVhfQlJFQURDUlVNQlMiLCJDUlVNQl9CQVNFIiwicG9zaXRpb24iLCJmbGV4RGlyZWN0aW9uIiwidG9wIiwiaGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwiSUNPTl9CQVNFIiwiU0VQQVJBVE9SX0JBU0UiLCJUSVRMRV9CQVNFIiwiRklSU1RfVElUTEVfQkFTRSIsImxlZnQiLCJyaWdodCIsImFsaWduSXRlbXMiLCJSSUdIVF9CVVRUT05fQkFTRSIsIm92ZXJmbG93Iiwib3BhY2l0eSIsIkxFRlQiLCJDRU5URVIiLCJSSUdIVCIsImkiLCJjcnVtYkxlZnQiLCJDcnVtYiIsIkljb24iLCJTZXBhcmF0b3IiLCJUaXRsZSIsIlJpZ2h0SXRlbSIsImNydW1iUmlnaHQiLCJidWlsZEluZGV4U2NlbmVJbnRlcnBvbGF0b3IiLCJzdGFydFN0eWxlcyIsImVuZFN0eWxlcyIsInR5cGUiLCJmcm9tIiwidG8iLCJtaW4iLCJtYXgiLCJleHRyYXBvbGF0ZSIsInJvdW5kIiwiSW50ZXJwb2xhdG9ycyIsIm1hcCIsIl8iLCJpaSIsIlJpZ2h0VG9DZW50ZXIiLCJDZW50ZXJUb0xlZnQiLCJSaWdodFRvTGVmdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJMZWZ0IiwiQ2VudGVyIiwiUmlnaHQiLCJJY29uV2lkdGgiLCJJY29uSGVpZ2h0IiwiU2VwYXJhdG9yV2lkdGgiLCJTZXBhcmF0b3JIZWlnaHQiXSwibWFw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QUFLLENBSkQ7QUFLSkMsSUFBSyxDQUxEO0FBTUpDLFlBQWEsSUFOVCxDQVJzQixDQUF2QixDQTdCRjs7O0FBOENMVixVQUFXLHFDQUF1QjtBQUNoQ1YsUUFBUztBQUNQZSxLQUFNLFFBREM7QUFFUEMsS0FBTUgsWUFBWUgsU0FBWixDQUFzQlYsT0FGckI7QUFHUGlCLEdBQUlILFVBQVVKLFNBQVYsQ0FBb0JWLE9BSGpCO0FBSVBrQixJQUFLLENBSkU7QUFLUEMsSUFBSyxDQUxFO0FBTVBFLE1BQU92QyxhQU5BLENBRHVCLENBQXZCLENBOUNOLENBQVA7Ozs7QUF5REQsQ0ExREQ7O0FBNERBLEdBQUl3QyxlQUFnQnBCLE9BQU9xQixHQUFQLENBQVcsU0FBU0MsQ0FBVCxDQUFZQyxFQUFaLENBQWdCO0FBQzdDLE1BQU87O0FBRUxDLGNBQWVkLDRCQUE0QlQsTUFBTXNCLEVBQU4sQ0FBNUIsQ0FBdUN2QixPQUFPdUIsRUFBUCxDQUF2QyxDQUZWOztBQUlMRSxhQUFjZiw0QkFBNEJWLE9BQU91QixFQUFQLENBQTVCLENBQXdDeEIsS0FBS3dCLEVBQUwsQ0FBeEMsQ0FKVDs7QUFNTEcsWUFBYWhCLDRCQUE0QlQsTUFBTXNCLEVBQU4sQ0FBNUIsQ0FBdUN4QixLQUFLd0IsRUFBTCxDQUF2QyxDQU5SLENBQVA7O0FBUUQsQ0FUbUIsQ0FBcEI7Ozs7OztBQWVBSSxPQUFPQyxPQUFQLENBQWlCO0FBQ2ZSLDJCQURlO0FBRWZTLEtBQU05QixJQUZTO0FBR2YrQixPQUFROUIsTUFITztBQUlmK0IsTUFBTzlCLEtBSlE7QUFLZitCLFVBQVd2RCxVQUxJO0FBTWZ3RCxXQUFZM0QsY0FORztBQU9mNEQsZUFBZ0J4RCxlQVBEO0FBUWZ5RCxnQkFBaUI3RCxjQVJGLENBQWpCIiwiZmlsZSI6Ik5hdmlnYXRvckJyZWFkY3J1bWJOYXZpZ2F0aW9uQmFyU3R5bGVzLmlvcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEFsaWJhYmEgR3JvdXAgSG9sZGluZyBMaW1pdGVkLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0TmF2aWdhdG9yQnJlYWRjcnVtYk5hdmlnYXRpb25CYXJTdHlsZXNcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgRGltZW5zaW9ucyBmcm9tICdSZWFjdERpbWVuc2lvbnMnO1xuaW1wb3J0IE5hdmlnYXRvck5hdmlnYXRpb25CYXJTdHlsZXNJT1MgZnJvbSAnUmVhY3ROYXZpZ2F0b3JOYXZpZ2F0aW9uQmFyU3R5bGVzSU9TJztcbmltcG9ydCBidWlsZFN0eWxlSW50ZXJwb2xhdG9yIGZyb20gJy4vcG9seWZpbGxzL2J1aWxkU3R5bGVJbnRlcnBvbGF0b3InO1xuaW1wb3J0IG1lcmdlIGZyb20gJy4vcG9seWZpbGxzL21lcmdlJztcblxudmFyIFNDUkVFTl9XSURUSCA9IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKS53aWR0aDtcbnZhciBTVEFUVVNfQkFSX0hFSUdIVCA9IE5hdmlnYXRvck5hdmlnYXRpb25CYXJTdHlsZXNJT1MuR2VuZXJhbC5TdGF0dXNCYXJIZWlnaHQ7XG52YXIgTkFWX0JBUl9IRUlHSFQgPSBOYXZpZ2F0b3JOYXZpZ2F0aW9uQmFyU3R5bGVzSU9TLkdlbmVyYWwuTmF2QmFySGVpZ2h0O1xuXG52YXIgU1BBQ0lORyA9IDQ7XG52YXIgSUNPTl9XSURUSCA9IDQwO1xudmFyIFNFUEFSQVRPUl9XSURUSCA9IDk7XG52YXIgQ1JVTUJfV0lEVEggPSBJQ09OX1dJRFRIICsgU0VQQVJBVE9SX1dJRFRIO1xuXG52YXIgT1BBQ0lUWV9SQVRJTyA9IDEwMDtcbnZhciBJQ09OX0lOQUNUSVZFX09QQUNJVFkgPSAwLjY7XG52YXIgTUFYX0JSRUFEQ1JVTUJTID0gMTA7XG5cbnZhciBDUlVNQl9CQVNFID0ge1xuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIHRvcDogU1RBVFVTX0JBUl9IRUlHSFQsXG4gIHdpZHRoOiBDUlVNQl9XSURUSCxcbiAgaGVpZ2h0OiBOQVZfQkFSX0hFSUdIVCxcbiAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxufTtcblxudmFyIElDT05fQkFTRSA9IHtcbiAgd2lkdGg6IElDT05fV0lEVEgsXG4gIGhlaWdodDogTkFWX0JBUl9IRUlHSFQsXG59O1xuXG52YXIgU0VQQVJBVE9SX0JBU0UgPSB7XG4gIHdpZHRoOiBTRVBBUkFUT1JfV0lEVEgsXG4gIGhlaWdodDogTkFWX0JBUl9IRUlHSFQsXG59O1xuXG52YXIgVElUTEVfQkFTRSA9IHtcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHRvcDogU1RBVFVTX0JBUl9IRUlHSFQsXG4gIGhlaWdodDogTkFWX0JBUl9IRUlHSFQsXG4gIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50Jyxcbn07XG5cbi8vIEZvciBmaXJzdCB0aXRsZSBzdHlsZXMsIG1ha2Ugc3VyZSBmaXJzdCB0aXRsZSBpcyBjZW50ZXJlZFxudmFyIEZJUlNUX1RJVExFX0JBU0UgPSBtZXJnZShUSVRMRV9CQVNFLCB7XG4gIGxlZnQ6IDAsXG4gIHJpZ2h0OiAwLFxuICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgaGVpZ2h0OiBOQVZfQkFSX0hFSUdIVCxcbn0pO1xuXG52YXIgUklHSFRfQlVUVE9OX0JBU0UgPSB7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB0b3A6IFNUQVRVU19CQVJfSEVJR0hULFxuICByaWdodDogU1BBQ0lORyxcbiAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICBvcGFjaXR5OiAxLFxuICBoZWlnaHQ6IE5BVl9CQVJfSEVJR0hULFxuICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG59O1xuXG4vKipcbiAqIFByZWNvbXB1dGUgY3J1bWIgc3R5bGVzIHNvIHRoYXQgdGhleSBkb24ndCBuZWVkIHRvIGJlIHJlY29tcHV0ZWQgb24gZXZlcnlcbiAqIGludGVyYWN0aW9uLlxuICovXG52YXIgTEVGVCA9IFtdO1xudmFyIENFTlRFUiA9IFtdO1xudmFyIFJJR0hUID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IE1BWF9CUkVBRENSVU1CUzsgaSsrKSB7XG4gIHZhciBjcnVtYkxlZnQgPSBDUlVNQl9XSURUSCAqIGkgKyBTUEFDSU5HO1xuICBMRUZUW2ldID0ge1xuICAgIENydW1iOiBtZXJnZShDUlVNQl9CQVNFLCB7IGxlZnQ6IGNydW1iTGVmdCB9KSxcbiAgICBJY29uOiBtZXJnZShJQ09OX0JBU0UsIHsgb3BhY2l0eTogSUNPTl9JTkFDVElWRV9PUEFDSVRZIH0pLFxuICAgIFNlcGFyYXRvcjogbWVyZ2UoU0VQQVJBVE9SX0JBU0UsIHsgb3BhY2l0eTogMSB9KSxcbiAgICBUaXRsZTogbWVyZ2UoVElUTEVfQkFTRSwgeyBsZWZ0OiBjcnVtYkxlZnQsIG9wYWNpdHk6IDAgfSksXG4gICAgUmlnaHRJdGVtOiBtZXJnZShSSUdIVF9CVVRUT05fQkFTRSwgeyBvcGFjaXR5OiAwIH0pLFxuICB9O1xuICBDRU5URVJbaV0gPSB7XG4gICAgQ3J1bWI6IG1lcmdlKENSVU1CX0JBU0UsIHsgbGVmdDogY3J1bWJMZWZ0IH0pLFxuICAgIEljb246IG1lcmdlKElDT05fQkFTRSwgeyBvcGFjaXR5OiAxIH0pLFxuICAgIFNlcGFyYXRvcjogbWVyZ2UoU0VQQVJBVE9SX0JBU0UsIHsgb3BhY2l0eTogMCB9KSxcbiAgICBUaXRsZTogbWVyZ2UoVElUTEVfQkFTRSwge1xuICAgICAgbGVmdDogY3J1bWJMZWZ0ICsgSUNPTl9XSURUSCxcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgfSksXG4gICAgUmlnaHRJdGVtOiBtZXJnZShSSUdIVF9CVVRUT05fQkFTRSwgeyBvcGFjaXR5OiAxIH0pLFxuICB9O1xuICB2YXIgY3J1bWJSaWdodCA9IFNDUkVFTl9XSURUSCAtIDEwMDtcbiAgUklHSFRbaV0gPSB7XG4gICAgQ3J1bWI6IG1lcmdlKENSVU1CX0JBU0UsIHsgbGVmdDogY3J1bWJSaWdodH0pLFxuICAgIEljb246IG1lcmdlKElDT05fQkFTRSwgeyBvcGFjaXR5OiAwIH0pLFxuICAgIFNlcGFyYXRvcjogbWVyZ2UoU0VQQVJBVE9SX0JBU0UsIHsgb3BhY2l0eTogMCB9KSxcbiAgICBUaXRsZTogbWVyZ2UoVElUTEVfQkFTRSwge1xuICAgICAgbGVmdDogY3J1bWJSaWdodCArIElDT05fV0lEVEgsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgIH0pLFxuICAgIFJpZ2h0SXRlbTogbWVyZ2UoUklHSFRfQlVUVE9OX0JBU0UsIHsgb3BhY2l0eTogMCB9KSxcbiAgfTtcbn1cblxuLy8gU3BlY2lhbCBjYXNlIHRoZSBDRU5URVIgc3RhdGUgb2YgdGhlIGZpcnN0IHNjZW5lLlxuQ0VOVEVSWzBdID0ge1xuICBDcnVtYjogbWVyZ2UoQ1JVTUJfQkFTRSwge2xlZnQ6IFNDUkVFTl9XSURUSCAvIDR9KSxcbiAgSWNvbjogbWVyZ2UoSUNPTl9CQVNFLCB7b3BhY2l0eTogMH0pLFxuICBTZXBhcmF0b3I6IG1lcmdlKFNFUEFSQVRPUl9CQVNFLCB7b3BhY2l0eTogMH0pLFxuICBUaXRsZTogbWVyZ2UoRklSU1RfVElUTEVfQkFTRSwge29wYWNpdHk6IDF9KSxcbiAgUmlnaHRJdGVtOiBDRU5URVJbMF0uUmlnaHRJdGVtLFxufTtcbkxFRlRbMF0uVGl0bGUgPSBtZXJnZShGSVJTVF9USVRMRV9CQVNFLCB7bGVmdDogLSBTQ1JFRU5fV0lEVEggLyA0LCBvcGFjaXR5OiAwfSk7XG5SSUdIVFswXS5UaXRsZSA9IG1lcmdlKEZJUlNUX1RJVExFX0JBU0UsIHtvcGFjaXR5OiAwfSk7XG5cblxudmFyIGJ1aWxkSW5kZXhTY2VuZUludGVycG9sYXRvciA9IGZ1bmN0aW9uKHN0YXJ0U3R5bGVzLCBlbmRTdHlsZXMpIHtcbiAgcmV0dXJuIHtcbiAgICBDcnVtYjogYnVpbGRTdHlsZUludGVycG9sYXRvcih7XG4gICAgICBsZWZ0OiB7XG4gICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAgICBmcm9tOiBzdGFydFN0eWxlcy5DcnVtYi5sZWZ0LFxuICAgICAgICB0bzogZW5kU3R5bGVzLkNydW1iLmxlZnQsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxLFxuICAgICAgICBleHRyYXBvbGF0ZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgSWNvbjogYnVpbGRTdHlsZUludGVycG9sYXRvcih7XG4gICAgICBvcGFjaXR5OiB7XG4gICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAgICBmcm9tOiBzdGFydFN0eWxlcy5JY29uLm9wYWNpdHksXG4gICAgICAgIHRvOiBlbmRTdHlsZXMuSWNvbi5vcGFjaXR5LFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgU2VwYXJhdG9yOiBidWlsZFN0eWxlSW50ZXJwb2xhdG9yKHtcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdHlwZTogJ2xpbmVhcicsXG4gICAgICAgIGZyb206IHN0YXJ0U3R5bGVzLlNlcGFyYXRvci5vcGFjaXR5LFxuICAgICAgICB0bzogZW5kU3R5bGVzLlNlcGFyYXRvci5vcGFjaXR5LFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgVGl0bGU6IGJ1aWxkU3R5bGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgb3BhY2l0eToge1xuICAgICAgICB0eXBlOiAnbGluZWFyJyxcbiAgICAgICAgZnJvbTogc3RhcnRTdHlsZXMuVGl0bGUub3BhY2l0eSxcbiAgICAgICAgdG86IGVuZFN0eWxlcy5UaXRsZS5vcGFjaXR5LFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMSxcbiAgICAgIH0sXG4gICAgICBsZWZ0OiB7XG4gICAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAgICBmcm9tOiBzdGFydFN0eWxlcy5UaXRsZS5sZWZ0LFxuICAgICAgICB0bzogZW5kU3R5bGVzLlRpdGxlLmxlZnQsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxLFxuICAgICAgICBleHRyYXBvbGF0ZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgUmlnaHRJdGVtOiBidWlsZFN0eWxlSW50ZXJwb2xhdG9yKHtcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdHlwZTogJ2xpbmVhcicsXG4gICAgICAgIGZyb206IHN0YXJ0U3R5bGVzLlJpZ2h0SXRlbS5vcGFjaXR5LFxuICAgICAgICB0bzogZW5kU3R5bGVzLlJpZ2h0SXRlbS5vcGFjaXR5LFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMSxcbiAgICAgICAgcm91bmQ6IE9QQUNJVFlfUkFUSU8sXG4gICAgICB9LFxuICAgIH0pLFxuICB9O1xufTtcblxudmFyIEludGVycG9sYXRvcnMgPSBDRU5URVIubWFwKGZ1bmN0aW9uKF8sIGlpKSB7XG4gIHJldHVybiB7XG4gICAgLy8gQW5pbWF0aW5nICppbnRvKiB0aGUgY2VudGVyIHN0YWdlIGZyb20gdGhlIHJpZ2h0XG4gICAgUmlnaHRUb0NlbnRlcjogYnVpbGRJbmRleFNjZW5lSW50ZXJwb2xhdG9yKFJJR0hUW2lpXSwgQ0VOVEVSW2lpXSksXG4gICAgLy8gQW5pbWF0aW5nIG91dCBvZiB0aGUgY2VudGVyIHN0YWdlLCB0byB0aGUgbGVmdFxuICAgIENlbnRlclRvTGVmdDogYnVpbGRJbmRleFNjZW5lSW50ZXJwb2xhdG9yKENFTlRFUltpaV0sIExFRlRbaWldKSxcbiAgICAvLyBCb3RoIHN0YWdlcyAoYW5pbWF0aW5nICpwYXN0KiB0aGUgY2VudGVyIHN0YWdlKVxuICAgIFJpZ2h0VG9MZWZ0OiBidWlsZEluZGV4U2NlbmVJbnRlcnBvbGF0b3IoUklHSFRbaWldLCBMRUZUW2lpXSksXG4gIH07XG59KTtcblxuLyoqXG4gKiBDb250YWlucyBjb25zdGFudHMgdGhhdCBhcmUgdXNlZCBpbiBjb25zdHJ1Y3RpbmcgYm90aCBgU3R5bGVTaGVldGBzIGFuZFxuICogaW5saW5lIHN0eWxlcyBkdXJpbmcgdHJhbnNpdGlvbnMuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICBJbnRlcnBvbGF0b3JzLFxuICBMZWZ0OiBMRUZULFxuICBDZW50ZXI6IENFTlRFUixcbiAgUmlnaHQ6IFJJR0hULFxuICBJY29uV2lkdGg6IElDT05fV0lEVEgsXG4gIEljb25IZWlnaHQ6IE5BVl9CQVJfSEVJR0hULFxuICBTZXBhcmF0b3JXaWR0aDogU0VQQVJBVE9SX1dJRFRILFxuICBTZXBhcmF0b3JIZWlnaHQ6IE5BVl9CQVJfSEVJR0hULFxufTtcbiJdfQ==